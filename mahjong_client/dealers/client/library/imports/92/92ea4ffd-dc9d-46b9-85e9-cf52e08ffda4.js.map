{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        inputUserID:cc.EditBox,\r\n        msg:cc.Label,\r\n        //search res\r\n        searchResult:cc.Node,\r\n        resUserID:cc.Label,\r\n        resUserName:cc.Label,\r\n        resUserGems:cc.Label,\r\n        inputGems:cc.EditBox,        \r\n        //charge res\r\n        mkChargeState:cc.Label,\r\n        mkChargeTime:cc.Label,\r\n        mkDetail:cc.Node,\r\n        mkResult:cc.Node,\r\n        mkUserID:cc.Label,\r\n        mkUserName:cc.Label,\r\n        mkUserGems:cc.Label,\r\n        \r\n        //\r\n         _targetData:null,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this.searchResult.active = false;\r\n        this.mkResult.active = false;\r\n        this._targetData = null;\r\n    },\r\n/**=========================================================================================== */\r\n\r\n    onChargeUser:function () {\r\n        if( !this._targetData )\r\n        {\r\n            return ;\r\n        }\r\n         \r\n\t    var num = this.inputGems.string;\r\n        if( !num || num == \"\")\r\n        {\r\n            // cc.alert.show(\"错误\",\"请出入充值房卡数额。\",1);            \r\n            this.msg = \"请输入充值数额\";\r\n            return ;\r\n        }\r\n        var data = {\r\n               token:cc.userdata.token,\r\n               userid:this._targetData.userid,\r\n               num:num\r\n            };\r\n        cc.http.sendRequest(\"/transfer_gems2user\",data,this.chargeBack.bind(this));\r\n    },\r\n\r\n\r\n    chargeBack: function (ret) {\r\n        console.log(ret);    \r\n       \r\n        this.mkResult.active = true;\r\n        this.mkDetail.active = false;\r\n        this.mkChargeTime.string = new Date().toLocaleDateString();\r\n        if(ret.errcode == 0){\r\n            // cc.alert.show(\"玩家充值\",\"为 \"+ this._targetData.userid +\" 充值成功，当前房卡变更为：\"+ret.targetgems+\"。\\n自身剩余：\"+ ret.gems ,1);            \r\n            this.mkChargeState.string = \"充值成功。\";           \r\n\r\n            this.mkDetail.active = true;\r\n            this.mkUserID.string = this._targetData.userid;\r\n            this.mkUserName.string = this._targetData.name;\r\n            this.mkUserGems.string = ret.targetgems;            \r\n        }\r\n        else if(ret.errcode == 12580){\r\n            // cc.alert.show(\"提示\",\"登录状态异常，需要重新登录!\",function(){\r\n            //     this.node.dispatchEvent(\"exitLogin\");    \r\n            // });\r\n            this.mkChargeState.string = \"登录状态异常，需要重新登录\"; \r\n        }else if( ret.errcode == 4 )\r\n        {\r\n            // cc.alert.show(\"玩家充值\",\"自身房卡不足，充值失败！\",1);            \r\n            this.mkChargeState.string = \"自身房卡不足，充值失败！\"; \r\n        }else if( ret.errcode == 5 )\r\n        {\r\n            // cc.alert.show(\"玩家充值\",\"服务器繁忙，请稍后再试！\",1);  \r\n           this.mkChargeState.string = \"服务器繁忙，请稍后再试！\";   \r\n        }\r\n        else{            \r\n            // cc.alert.show(\"玩家充值\",\"服务器异常，请稍后再试！\",1); \r\n            this.mkChargeState.string = \"服务器异常，请稍后再试！\";     \r\n        } \r\n    },\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**=========================================================================================== */\r\n    onSearch: function () {\r\n        var searchId = this.inputUserID.string;\r\n        if( !searchId || searchId == \"\" )\r\n        {\r\n            return ;\r\n        }\r\n        this.doSearchUser(searchId);   \r\n    },\r\n\r\n\r\n    doSearchUser: function (searchId) {\r\n        this._targetData = null;\r\n        this.msg.string = \"查询中。。。\";\r\n        this.searchResult.active = false;\r\n        var data = {\r\n               token:cc.userdata.token,\r\n               userid:searchId\r\n            };\r\n        cc.http.sendRequest(\"/search_user\",data,this.searchBack.bind(this));\r\n    },\r\n\r\n    searchBack: function (ret)\r\n    {\r\n        console.log(ret);\r\n        \r\n        if(ret.errcode == 0){\r\n            this.msg.string = \"查询成功\";\r\n\r\n            this.resUserID.string = ret.userid;\r\n            this.resUserName.string = ret.name,\r\n            this.resUserGems.string = ret.gems;\r\n\r\n            this.inputGems.string = \"\";\r\n            this._targetData = ret;\r\n\r\n            this.searchResult.active = true;            \r\n        }\r\n        else if(ret.errcode == 12580){\r\n            cc.alert.show(\"提示\",\"登录状态异常，需要重新登录!\",function(){\r\n                this.node.dispatchEvent(\"exitLogin\");    \r\n            });\r\n        }\r\n        else{            \r\n            this.msg.string = \"未获得相关信息，请确认玩家ID\";\r\n        }    \r\n    }\r\n     \r\n});\r\n"
  ]
}