{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        inputAccount:cc.EditBox,\r\n        listItem:cc.Prefab,\r\n\r\n        listContent:cc.Node,\r\n        msg:cc.Label,\r\n        prePage:cc.Node,\r\n        nextPage:cc.Node,\r\n        maxRows:10,\r\n        _curIdx:0,\r\n    },\r\n    \r\n    onLoad: function () {\r\n        this.msg.node.active = false; \r\n        this.clearList();\r\n        this.hidePageBtn();\r\n    },\r\n\r\n/**================================================================================================ */\r\n    searchAllDealer:function (start) {        \r\n\r\n        var data = {\r\n               token:cc.userdata.token,\r\n               start:start,\r\n               rows:this.maxRows\r\n            };\r\n        cc.http.sendRequest(\"/search_sub_dealers\",data,this.searchAllBack.bind(this));\r\n    },\r\n\r\n    searchAllBack: function (ret) {\r\n        console.log(ret);   \r\n        if( ret.errcode )\r\n        {\r\n            this.msg.node.active = true;\r\n            if(ret.errcode == 12580){\r\n                cc.alert.show(\"提示\",\"登录状态异常，需要重新登录!\",function(){\r\n                    this.node.dispatchEvent(\"exitLogin\");    \r\n                });\r\n                return ;\r\n            }\r\n            else{            \r\n                cc.alert.show(\"查询代理\",\"服务器异常，请稍后再试！\",1); \r\n                return ;\r\n            } \r\n        }else{            \r\n            // cc.alert.show(\"查询\",\"查询成功\")\r\n            this.msg.node.active = false;   \r\n            this.showResult(ret);\r\n        }        \r\n    },\r\n\r\n\r\n    searchDealer:function (account) {\r\n         if( !account || account == \"\" ){            \r\n            return;\r\n        }\r\n        var data = {\r\n               token:cc.userdata.token,\r\n               account:account\r\n            };\r\n        cc.http.sendRequest(\"/get_sub_dealer_by_account\",data,this.searchBack.bind(this));\r\n    },\r\n\r\n    searchBack: function (ret) {\r\n        console.log(ret); \r\n        this.clearList();\r\n        if( ret.errcode )\r\n        {\r\n           this.msg.node.active = true;   \r\n           if(ret.errcode == 12580){\r\n                cc.alert.show(\"提示\",\"登录状态异常，需要重新登录!\",function(){\r\n                    this.node.dispatchEvent(\"exitLogin\");    \r\n                });\r\n            }\r\n        }else{\r\n            this.msg.node.active = false;    \r\n            this.showResult( [ret] );\r\n        }        \r\n    },\r\n\r\n    showResult: function (ret) {\r\n        if( !ret )\r\n            return ;\r\n\r\n        this.showPageBtn(this._curIdx,ret.length);\r\n        this.clearList();\r\n        var pre;\r\n        ret.forEach(function(element) {\r\n            pre = cc.instantiate( this.listItem );\r\n            pre.getComponent(\"dealer_item_script\").showInfo(element);\r\n            pre.on(\"showDealerDetail\",this.showDetail.bind(this));\r\n            pre.parent = this.listContent;\r\n        }, this);\r\n    },\r\n\r\n    showDetail: function (event) {\r\n        if( event && event.detail )\r\n        {\r\n            cc.app.showPage(\"prefabes/page_detail/page_detail\",0,true,\"查询代理\",\"page_detail_script\",event.detail);\r\n        }        \r\n        cc.log(\"show dealer detail\");\r\n    },\r\n\r\n\r\n\r\n/**================================================================================================ */\r\n     onSearchOneClick: function () {\r\n        var account = this.inputAccount.string;\r\n        if( !account || account == \"\")\r\n        {\r\n            cc.alert.show(\"精准查询\",\"请输入代理ID。\",1);            \r\n        }else{\r\n            this._curIdx = 0;\r\n            this.hidePageBtn();\r\n            this.searchDealer( account );\r\n        }\r\n    },\r\n\r\n    onSearchPerClick: function () {\r\n        this._curIdx -= this.maxRows;\r\n        if( this._curIdx < 0 )\r\n            this._curIdx = 0;\r\n            \r\n        this.searchAllDealer(this._curIdx);\r\n    },\r\n\r\n    onSearchNextClick: function () {\r\n        this._curIdx += this.maxRows;\r\n        if( this._curIdx < 0 )\r\n            this._curIdx = 0;            \r\n        this.searchAllDealer(this._curIdx);\r\n    },\r\n\r\n    onSearchAllClick: function () {\r\n        this._curIdx = 0;\r\n        this.searchAllDealer(0);\r\n    },\r\n\r\n/**================================================================================ */\r\n    showPageBtn: function (start,curRows) {\r\n        this.hidePageBtn();\r\n        if( start >= this.maxRows )\r\n        {\r\n            this.prePage.active = true;\r\n        }\r\n\r\n        if( curRows >= this.maxRows )\r\n        {\r\n            this.nextPage.active = true;\r\n        }\r\n    },\r\n\r\n    hidePageBtn: function () {\r\n        this.prePage.active = false;\r\n        this.nextPage.active = false;\r\n    },\r\n    \r\n    clearList: function (){\r\n        this.listContent.removeAllChildren();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n});\r\n"
  ]
}