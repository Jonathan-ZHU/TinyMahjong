{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        options:cc.Node,\r\n        prePage:cc.Node,\r\n        nextPage:cc.Node,\r\n        listContent:cc.Node,\r\n        listItem:cc.Prefab,\r\n        msg:cc.Label,\r\n        maxRows:10,\r\n        _curIdx:0,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this.clearList();\r\n        this.hidePageBtn();\r\n        this.searchLogs();\r\n    },\r\n    \r\n\r\n/**================================================================================================ */\r\n    searchAllLog:function (start) {        \r\n\r\n        var data = {\r\n               token:cc.userdata.token,\r\n               start:start,\r\n               rows:this.maxRows\r\n            };\r\n        cc.http.sendRequest(\"/get_buy_goods_log\",data,this.searchAllBack.bind(this));\r\n    },\r\n\r\n    searchAllBack: function (ret) {\r\n        console.log(ret);   \r\n        if( ret.errcode )\r\n        {\r\n            if(ret.errcode == 12580){\r\n                cc.alert.show(\"提示\",\"登录状态异常，需要重新登录!\",function(){\r\n                    this.node.dispatchEvent(\"exitLogin\");    \r\n                });\r\n                return ;\r\n            }\r\n            else{            \r\n                cc.alert.show(\"查询代理\",\"服务器异常，请稍后再试！\",1); \r\n                return ;\r\n            } \r\n        }else{            \r\n            // cc.alert.show(\"查询\",\"查询成功\")\r\n            this.showResult(ret);\r\n        }        \r\n    },\r\n\r\n    showResult: function (ret) {\r\n        if( !ret )\r\n            return ;\r\n\r\n        this.showPageBtn(this._curIdx,ret.length);\r\n        this.clearList();\r\n\r\n        this.msg.node.active = false;\r\n        if( ret.length == 0 ){\r\n            this.msg.node.active = true;\r\n        }\r\n\r\n        var pre;\r\n        ret.forEach(function(element) {\r\n            pre = cc.instantiate( this.listItem );\r\n            pre.getComponent(\"shop_log_item_script\").showInfo(element);\r\n            pre.parent = this.listContent;\r\n        }, this);\r\n    },\r\n\r\n\r\n    searchLogs: function () {\r\n        this._curIdx = 0;\r\n        this.searchAllLog(0);\r\n    },\r\n\r\n    onSearchPerClick: function () {\r\n        this._curIdx -= this.maxRows;\r\n        if( this._curIdx < 0 )\r\n            this._curIdx = 0;\r\n            \r\n        this.searchAllLog(this._curIdx);\r\n    },\r\n\r\n    onSearchNextClick: function () {\r\n        this._curIdx += this.maxRows;\r\n        if( this._curIdx < 0 )\r\n            this._curIdx = 0;            \r\n        this.searchAllLog(this._curIdx);\r\n    },\r\n/**================================================================================ */\r\n    showPageBtn: function (start,curRows) {\r\n        this.hidePageBtn();\r\n        if( start >= this.maxRows )\r\n        {\r\n            this.prePage.active = true;\r\n        }\r\n\r\n        if( curRows >= this.maxRows )\r\n        {\r\n            this.nextPage.active = true;\r\n        }\r\n    },\r\n\r\n    hidePageBtn: function () {\r\n        this.prePage.active = false;\r\n        this.nextPage.active = false;\r\n    },\r\n    \r\n    clearList: function (){\r\n        this.listContent.removeAllChildren();\r\n    }\r\n\r\n\r\n\r\n\r\n});\r\n"
  ]
}