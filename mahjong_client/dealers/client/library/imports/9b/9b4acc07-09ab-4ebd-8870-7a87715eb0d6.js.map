{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n         inputAccount:cc.EditBox,\r\n         inputName:cc.EditBox,\r\n         inputPwd:cc.EditBox,\r\n         msg:cc.Label,\r\n         result:cc.Node,\r\n         state:cc.Label,\r\n         infos:cc.Node,\r\n         mkId:cc.Label,\r\n         mkName:cc.Label,\r\n         mkPwd:cc.Label,\r\n         _temp:null\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this.msg.string = \"新增代理后，此代理自动成为自身下级代理。\";\r\n        this.hideResult();\r\n    },\r\n\r\n/**========================================================================================================== */\r\n    onCreateClick: function () {\r\n        var phone = this.inputAccount.string;\r\n        var name = this.inputName.string;\r\n        var pwd = this.inputPwd.string;\r\n\r\n        if( !phone || phone == \"\" ||!name || name == \"\" || !pwd || pwd == \"\"  )\r\n        {\r\n            // cc.alert.show(\"错误\",\"信息不完整，请检查信息。\",1);\r\n            this.msg.string = \"信息不完整，请检查信息。\";\r\n        }else{\r\n\r\n            this.hideResult();\r\n\r\n            this._temp = {\r\n               phone:phone,\r\n               pwd:pwd,\r\n               name:name\r\n            };\r\n            // cc.alert.show(\"新增代理\",\"请确认信息：\\n手机号：\" + phone + \"\\n代理名称：\" +name+ \"\\n初始密码：\" +pwd ,0,this.doCreate.bind(this));\r\n            this.doCreate(true);\r\n        }       \r\n    },\r\n\r\n    doCreate: function (result) {\r\n        if( result && this._temp )\r\n        {\r\n            this.addDealer(this._temp.phone,this._temp.name,this._temp.pwd);\r\n        }        \r\n    },\r\n\r\n/**========================================================================================================== */\r\n    addDealer:function (phone,name,pwd) {\r\n         if( !phone || phone == \"\" ||!name || name == \"\" || !pwd || pwd == \"\" ){\r\n            this.msg = \"输入信息不合法，请检查输入。\";\r\n            return;\r\n        }        \r\n\r\n        var data = {\r\n               token:cc.userdata.token,\r\n               account:phone,\r\n               password:pwd,\r\n               name:name\r\n            };\r\n        cc.http.sendRequest(\"/create_dealer\",data,this.addNewBack.bind(this));\r\n    },\r\n\r\n    addNewBack: function (ret) {\r\n        console.log(ret);\r\n        this.result.active = true;\r\n        this.infos.active = false;\r\n        if(ret.errcode == 0){\r\n            this.state.string = \"创建成功！(请妥善保管创建信息)\";\r\n            // this.resultInfo.string = \"注册成功：\\n手机号：\" + this._temp.phone + \"\\n代理名称：\" +this._temp.name+ \"\\n初始密码：\" +this._temp.pwd ;\r\n            this.mkId.string = this._temp.phone;\r\n            this.mkName.string = this._temp.name;\r\n            this.mkPwd.string = this._temp.pwd;\r\n\r\n            this.infos.active = true;\r\n        }\r\n        else if(ret.errcode == 12580){\r\n            this.state.string = \"登录状态异常，需要重新登录\";\r\n            // cc.alert.show(\"提示\",\"登录状态异常，需要重新登录!\",function(){\r\n            //     this.node.dispatchEvent(\"exitLogin\");    \r\n            // });\r\n        }else if(ret.errcode == 1){\r\n            this.state.string = \"创建失败，请尝试更换手机号或检查输入是否正确\";             \r\n        }\r\n        else{            \r\n            // cc.alert.show(\"新增代理\",\"服务器异常，请稍后再试！\",1); \r\n            this.state.string = \"服务器异常，请稍后再试！\";\r\n        } \r\n    },\r\n\r\n\r\n\r\n/**==========================================================================================================*/\r\n\r\n    onCopyClick: function () {\r\n        if( this._temp )\r\n        {\r\n            var infos = \"代理账号：\\n\";\r\n            infos += \"代理ID:\" + this._temp.phone +\"\\n\";\r\n            infos += \"代理名称:\" + this._temp.name +\"\\n\";\r\n            infos += \"初始密码:\" + this._temp.pwd +\"\\n\";\r\n            this.copyTxt( infos);\r\n        }       \r\n    },\r\n\r\n\r\n    copyTxt: function (value) {\r\n        var clipboardBuffer = document.createElement('textarea');\r\n        clipboardBuffer.style.cssText = 'position:fixed; top:-10px; left:-10px; height:0; width:0; opacity:0;';\r\n        document.body.appendChild(clipboardBuffer);\r\n\r\n        clipboardBuffer.focus();\r\n        clipboardBuffer.value = value;\r\n        clipboardBuffer.setSelectionRange(0, clipboardBuffer.value.length);\r\n        var succeeded;\r\n        try { \r\n            succeeded = document.execCommand('copy'); \r\n        } catch (e) \r\n        {\r\n            cc.log(\"拷贝错误\");\r\n        }\r\n        if( succeeded )\r\n        {\r\n            cc.log( \"成功拷贝\");\r\n        }\r\n    },\r\n\r\n\r\n/**==========================================================================================================*/\r\n    hideResult: function () {\r\n        this.result.active = false;\r\n    },\r\n\r\n\r\n});\r\n"
  ]
}