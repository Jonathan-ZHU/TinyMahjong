{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        title:cc.Label,\r\n        year:cc.Label,\r\n        listContent:cc.Node,\r\n        listItem:cc.Prefab,\r\n        msg:cc.Label,\r\n        _curAccount:null,\r\n        _curYear:null,\r\n        _curData:null\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this.showMsg();\r\n        this.title.string = \"KPI\";\r\n        this._curYear = new Date().getFullYear();\r\n        this.year.string = this._curYear;\r\n    },\r\n/**=============================================================================================================== */\r\n    onPreClick: function () {\r\n        this._curYear--;\r\n        this.year.string = this._curYear;\r\n        this.searchInfo();\r\n    },\r\n\r\n    onNextClick: function () {\r\n        this._curYear++;\r\n        this.year.string = this._curYear;\r\n        this.searchInfo();\r\n    },\r\n\r\n\r\n/**=============================================================================================================== */\r\n   init: function (account) {\r\n        this._curAccount = account;\r\n        this.searchInfo(account);        \r\n    }, \r\n\r\n    searchInfo: function () {        \r\n        if( !this._curAccount )\r\n        {\r\n            this.showMsg(\"查询数据错误\");\r\n            return ;\r\n        }else{\r\n            this.title.String = \"KPI:\" + this._curAccount;\r\n        }\r\n\r\n        this.cleanList();\r\n\r\n        this._targetData = null;\r\n        var data = {\r\n               token:cc.userdata.token,\r\n               account:this._curAccount,\r\n               year:this._curYear\r\n            };\r\n        cc.http.sendRequest(\"/search_dealer_kpi\",data,this.searchBack.bind(this));\r\n    },\r\n\r\n    searchBack: function (ret)\r\n    {\r\n        console.log(ret);\r\n        \r\n        if( !ret.errcode  || ret.errcode == 0){\r\n            if( ret.length == 0 )             \r\n            {\r\n                this.showMsg(\"暂无数据\");\r\n                return ;\r\n            }\r\n            var pre;\r\n            ret.forEach(function(element) {\r\n                pre = cc.instantiate( this.listItem );\r\n                pre.getComponent(\"kpi_item_script\").showInfo(element);               \r\n                pre.parent = this.listContent;\r\n            }, this);            \r\n        }\r\n        else if(ret.errcode == 12580){\r\n            cc.alert.show(\"提示\",\"登录状态异常，需要重新登录!\",function(){\r\n                this.node.dispatchEvent(\"exitLogin\");    \r\n            });\r\n        }\r\n        else{            \r\n            this.showMsg(\"查询数据错误\");\r\n        }    \r\n    },\r\n\r\n\r\n\r\n\r\n    \r\n/**=============================================================================================================== */\r\n    showMsg: function (value){\r\n        this.msg.node.active = false;\r\n        this.msg.string = \"\";\r\n        if( value && value != \"\" )\r\n        {\r\n            this.msg.string = value;\r\n            this.msg.node.active = true;\r\n        }       \r\n    },\r\n\r\n    cleanList: function () {\r\n        this.listContent.removeAllChildren();\r\n    }\r\n});\r\n"
  ]
}