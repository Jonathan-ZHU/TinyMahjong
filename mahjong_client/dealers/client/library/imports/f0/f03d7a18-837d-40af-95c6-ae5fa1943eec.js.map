{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n         inputOld:cc.EditBox,\r\n         inputNew:cc.EditBox,\r\n         inputRenew:cc.EditBox,\r\n         msg:cc.Label\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n\r\n    },\r\n\r\n    onChangeClick: function (){\r\n        var old = this.inputOld.string;\r\n        var newpwd = this.inputNew.string;\r\n        var renew = this.inputRenew.string;\r\n\r\n        if( !old || old == \"\" ||  !newpwd || newpwd == \"\" ||  !renew || renew == \"\")\r\n        {\r\n          this.msg.string = \"数据不完整，请检查输入！\"; \r\n          retrun ;\r\n        }\r\n\r\n        if( newpwd != renew )\r\n        {   \r\n            this.inputNew.string = \"\";\r\n            this.inputRenew.string = \"\";\r\n            this.msg.string = \"两次新密码输入不同，请重新输入！\";\r\n            return ;\r\n        }\r\n        this.cleanInput();\r\n        this.doChange(old,newpwd);\r\n    },\r\n\r\n    doChange: function (oldpwd,newpwd)\r\n    {\r\n        if( !oldpwd || oldpwd == \"\" ||!newpwd || newpwd == \"\" ){\r\n            return;\r\n        }\r\n        var data = {\r\n               token:cc.userdata.token,\r\n               account:cc.userdata.account,\r\n               oldpwd:oldpwd,\r\n               newpwd:newpwd\r\n            };        \r\n        cc.http.sendRequest(\"/change_own_pwd\",data,this.changeBack.bind(this));\r\n    },\r\n\r\n    changeBack: function (ret) {\r\n        console.log(ret);\r\n        if(ret.errcode == 0){\r\n            this.msg.string = \"修改成功！(请妥善保管密码信息)\";\r\n            //重新登录\r\n            cc.sys.localStorage.removeItem(\"account\");\r\n            cc.sys.localStorage.removeItem(\"password\");\r\n            cc.app.cleanAllLayers();\r\n            cc.app.showPage(\"prefabes/page_login/page_login\",2);\r\n        }\r\n        else if(ret.errcode == 12580){\r\n            this.msg.string = \"登录状态异常，需要重新登录\";\r\n            // cc.alert.show(\"提示\",\"登录状态异常，需要重新登录!\",function(){\r\n            //     this.node.dispatchEvent(\"exitLogin\");    \r\n            // });\r\n        }else if(ret.errcode == 1){\r\n            this.msg.string = \"修改失败！请检查原密码是否正确\";             \r\n        }\r\n        else{            \r\n            // cc.alert.show(\"新增代理\",\"服务器异常，请稍后再试！\",1); \r\n            this.msg.string = \"服务器异常，请稍后再试！\";\r\n        } \r\n    },\r\n\r\n\r\n    cleanInput: function () {\r\n        this.inputOld.string = \"\";\r\n        this.inputNew.string = \"\";\r\n        this.inputRenew.string = \"\";\r\n    }\r\n\r\n\r\n\r\n});\r\n"
  ]
}