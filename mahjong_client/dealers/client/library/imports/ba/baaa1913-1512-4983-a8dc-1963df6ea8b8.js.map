{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        listContent:cc.Node,\r\n        listItem:cc.Prefab,\r\n        msg:cc.Label,\r\n        _curAccount:null,\r\n        _targetData:null,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this.msg.string = \"\";\r\n        this.clearList();\r\n        this.searchGoods();\r\n    },\r\n \r\n/**================================================================================================================*/   \r\n\r\n    searchGoods: function () {\r\n        var data = {\r\n               token:cc.userdata.token,\r\n            };\r\n        cc.http.sendRequest(\"/get_goods\",data,this.searchGoodsBack.bind(this));\r\n    },\r\n\r\n    searchGoodsBack: function (ret)\r\n    {\r\n        if( !ret )\r\n            return ;\r\n\r\n        this.clearList();\r\n        var pre;\r\n        ret.forEach(function(element) {\r\n            pre = cc.instantiate( this.listItem );\r\n            pre.getComponent(\"goods_item_script\").showInfo(element);\r\n            pre.on(\"buyGoods\",this.onBuyGoods.bind(this));\r\n            pre.parent = this.listContent;\r\n        }, this);  \r\n    },\r\n\r\n\r\n    onBuyGoods: function (event) {\r\n        var det = event.detail;\r\n        if(!det) return ;\r\n        cc.log(\"buy goods\" + det);\r\n        var data = {\r\n               token:cc.userdata.token,\r\n               id:det.id\r\n            };\r\n        cc.http.sendRequest(\"/buy_goods\",data,this.buyBack.bind(this));\r\n    },\r\n\r\n    buyBack: function (ret) {\r\n        if( !ret )\r\n            return ;\r\n       if(ret.errcode == 0){\r\n           if( ret.goods_type == 1){\r\n               this.msg.string = \"购买成功！获得：\"+ ret.goods_num +\"房卡\";\r\n           }else if(ret.goods_type == 2){\r\n               this.msg.string = \"购买成功！获得：\"+ ret.goods_num +\"金币\";\r\n           }            \r\n       }else if( ret.errcode == 1 ){\r\n           this.msg.string = \"数据错误，请稍后再试\";\r\n       }else if( ret.errcode == 2 ){\r\n           this.msg.string = \"货币不足，购买失败！\";\r\n       }else if( ret.errcode == 3 ){\r\n           this.msg.string = \"系统繁忙，请稍后再试。\";\r\n       }else if( ret.errcode == 4 ){\r\n           this.msg.string = \"系统错误，请联系客服人员！\";\r\n       }else if( ret.errcode == 5 ){\r\n           this.msg.string = \"系统繁忙，请稍后再试。\";\r\n       }\r\n    },\r\n\r\n/**===================================================================================================== */\r\n    onBuyRecords: function () {       \r\n        cc.app.showPage(\"prefabes/page_shop_log/page_shop_log\",0,true,\"商城\");      \r\n    },\r\n\r\n/**===================================================================================================== */\r\n    clearList: function (){\r\n        this.listContent.removeAllChildren();\r\n    }\r\n});\r\n"
  ]
}