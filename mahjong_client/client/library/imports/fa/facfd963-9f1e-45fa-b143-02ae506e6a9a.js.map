{"version":3,"sources":["assets/scripts/components/GameOver.js"],"names":["cc","Class","extends","Component","properties","_gameover","_gameresult","_seats","_isGameEnd","_pingju","_win","_lose","onLoad","vv","gameNetMgr","conf","node","getChildByName","type","n","hua_node","m","childrenCount","children","active","wanfa","getComponent","Label","string","getWanfa","listRoot","i","s","sn","viewdata","username","reason","taisi","f","fan","score","hu","mahjongs","zhuang","hupai","_pengandgang","push","self","on","data","onGameOver","detail","onGameOver_SJMMJ","onGameOver_DHMJ","onGameOver_TDH","console","log","length","myscore","seatIndex","seatView","userData","hued","numOfGangs","angangs","wangangs","diangangs","numOfGen","numofgen","actionArr","is7pairs","ischadajiao","j","actions","ac","pattern","qingyise","menqing","zhongzhang","jingouhu","haidihu","tianhu","dihu","hunyise","duiduihu","paihu","gangshanghua","kan","bian","dan","duidao","o","huorder","seats","name","button","join","tai","si","holds","pop","mahjongmgr","sortMJ","dingque","k","lackingNum","pengs","chis","pai","sprite","Sprite","spriteFrame","getSpriteFrameByMJID","index","gangs","mjid","initPengAndGangs","huas","sp","switchFengFlag","direction","dir_str","numofgames","fengquan","fengxiang","flag","pgroot","instantiate","pengPrefabSelf","addChild","sprites","getComponentsInChildren","isGang","scaleX","scaleY","getEmptySpriteFrame","x","onBtnReadyClicked","net","send","onBtnShareClicked"],"mappings":"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","file":"unknown","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //    default: null,\n        //    url: cc.Texture2D,  // optional, default is typeof default\n        //    serializable: true, // optional, default is true\n        //    visible: true,      // optional, default is true\n        //    displayName: 'Foo', // optional\n        //    readonly: false,    // optional, default is false\n        // },\n        // ...\n        _gameover:null,\n        _gameresult:null,\n        _seats:[],\n        _isGameEnd:false,\n        _pingju:null,\n        _win:null,\n        _lose:null,\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        if(cc.vv == null){\n            return;\n        }\n        if(cc.vv.gameNetMgr.conf == null){\n            return;\n        }\n        //TODO:可能出现不同的计分板\n        this._gameover = this.node.getChildByName(\"game_over_\"+cc.vv.gameNetMgr.conf.type);\n        \n        for(var n = 0; n < 4; n++){\n            var hua_node = this._gameover.getChildByName(\"result_list\").getChildByName(\"s\"+(n+1)).getChildByName(\"huas\");\n            for(var m = 0 ; m < hua_node.childrenCount ; m++) {\n                hua_node.children[m].active = false;\n            }\n        }\n        \n        this._gameover.active = false;\n        \n        this._pingju = this._gameover.getChildByName(\"pingju\");\n        this._win = this._gameover.getChildByName(\"win\");\n        this._lose = this._gameover.getChildByName(\"lose\");\n        \n        this._gameresult = this.node.getChildByName(\"game_result\");\n        \n        var wanfa = this._gameover.getChildByName(\"wanfa\").getComponent(cc.Label);\n        wanfa.string = cc.vv.gameNetMgr.getWanfa();\n        \n        var listRoot = this._gameover.getChildByName(\"result_list\");\n        for(var i = 1; i <= 4; ++i){\n            var s = \"s\" + i;\n            var sn = listRoot.getChildByName(s);\n            //整理所有需要显示在计分板上的信息的节点\n            var viewdata = {};\n            viewdata.username = sn.getChildByName('username').getComponent(cc.Label);\n            viewdata.reason = sn.getChildByName('reason').getComponent(cc.Label);\n            viewdata.taisi = sn.getChildByName('taisi').getComponent(cc.Label);\n            \n            var f = sn.getChildByName('fan');\n            if(f != null){\n                viewdata.fan = f.getComponent(cc.Label);    \n            }\n            \n            viewdata.score = sn.getChildByName('score').getComponent(cc.Label);\n            viewdata.hu = sn.getChildByName('hu');\n            viewdata.mahjongs = sn.getChildByName('pai');\n            viewdata.zhuang = sn.getChildByName('zhuang');\n            viewdata.hupai = sn.getChildByName('hupai');\n            viewdata._pengandgang = [];\n            \n            this._seats.push(viewdata);\n        }\n        \n        //初始化网络事件监听器\n        var self = this;\n        this.node.on('game_over',function(data){self.onGameOver(data.detail);});\n        \n        this.node.on('game_end',function(data){self._isGameEnd = true;});\n    },\n    \n    onGameOver(data){\n        //TODO:多种判定\n        if(cc.vv.gameNetMgr.conf.type == \"sjmmj\"){\n            this.onGameOver_SJMMJ(data);\n        }\n        else if(cc.vv.gameNetMgr.conf.type == \"dhmj\") {\n            this.onGameOver_DHMJ(data);\n        }\n        else if(cc.vv.gameNetMgr.conf.type == \"tdh\") {\n            this.onGameOver_TDH(data);\n        }\n    },\n    \n    onGameOver_SJMMJ(data){\n        console.log(data);\n        if(data.length == 0){\n            this._gameresult.active = true;\n            return;\n        }\n        this._gameover.active = true;\n        this._pingju.active = false;\n        this._win.active = false;\n        this._lose.active = false;\n\n        var myscore = data[cc.vv.gameNetMgr.seatIndex].score;\n        if(myscore > 0){\n            this._win.active = true;\n        }         \n        else if(myscore < 0){\n            this._lose.active = true;\n        }\n        else{\n            this._pingju.active = true;\n        }\n        \n            \n        //显示玩家信息\n        for(var i = 0; i < 4; ++i){\n            var seatView = this._seats[i];\n            var userData = data[i];\n            var hued = false;\n            //胡牌的玩家才显示 是否清一色 根xn的字样\n            var numOfGangs = userData.angangs.length + userData.wangangs.length + userData.diangangs.length;\n            var numOfGen = userData.numofgen;\n            var actionArr = [];\n            var is7pairs = false;\n            var ischadajiao = false;\n           \n            for(var j = 0; j < userData.actions.length; ++j){\n                var ac = userData.actions[j];\n                if(ac.type == \"zimo\" || ac.type == \"ganghua\" || ac.type == \"dianganghua\" || ac.type == \"hu\" || ac.type == \"gangpaohu\" || ac.type == \"qiangganghu\" || ac.type == \"chadajiao\"){\n                    if(userData.pattern == \"7pairs\"){\n                        actionArr.push(\"七对\");\n                    }\n                    else if(userData.pattern == \"l7pairs\"){\n                        actionArr.push(\"龙七对\");\n                    }\n                    else if(userData.pattern == \"j7pairs\"){\n                        actionArr.push(\"将七对\");\n                    }\n                    else if(userData.pattern == \"duidui\"){\n                        actionArr.push(\"碰碰胡\");\n                    }\n                    else if(userData.pattern == \"jiangdui\"){\n                        actionArr.push(\"将对\");\n                    }\n                    \n                    if(ac.type == \"zimo\"){\n                        actionArr.push(\"自摸\");\n                    }\n                    else if(ac.type == \"ganghua\"){\n                        actionArr.push(\"杠上花\");\n                    }\n                    else if(ac.type == \"dianganghua\"){\n                        actionArr.push(\"点杠花\");\n                    }\n                    else if(ac.type == \"gangpaohu\"){\n                        actionArr.push(\"杠炮胡\");\n                    }\n                    else if(ac.type == \"qiangganghu\"){\n                        actionArr.push(\"抢杠胡\");\n                    }\n                    else if(ac.type == \"chadajiao\"){\n                        ischadajiao = true;\n                    }\n                    hued = true;\n                }\n                else if(ac.type == \"fangpao\"){\n                    actionArr.push(\"放炮\");\n                }\n                else if(ac.type == \"angang\"){\n                    actionArr.push(\"暗杠\");\n                }\n                else if(ac.type == \"diangang\"){\n                    actionArr.push(\"明杠\");\n                }\n                else if(ac.type == \"wangang\"){\n                    actionArr.push(\"弯杠\");\n                }\n                else if(ac.type == \"fanggang\"){\n                   actionArr.push(\"放杠\");\n                }\n                else if(ac.type == \"zhuanshougang\"){\n                    actionArr.push(\"转手杠\");\n                }\n                else if(ac.type == \"beiqianggang\"){\n                    actionArr.push(\"被抢杠\");\n                }\n                else if(ac.type == \"beichadajiao\"){\n                    actionArr.push(\"被查叫\");\n                }\n            }\n            \n            if(hued){\n                if(userData.qingyise){\n                    actionArr.push(\"清一色\");\n                }\n                \n                if(userData.menqing){\n                    actionArr.push(\"门清\");\n                }\n                \n                if(userData.zhongzhang){\n                    actionArr.push(\"中张\");\n                }\n                \n                if(userData.jingouhu){\n                    actionArr.push(\"金钩胡\");\n                }\n                                \n                if(userData.haidihu){\n                    actionArr.push(\"海底胡\");\n                }\n                \n                if(userData.tianhu){\n                    actionArr.push(\"天胡\");\n                }\n                \n                if(userData.dihu){\n                    actionArr.push(\"地胡\");\n                }\n            \n                if(numOfGen > 0){\n                    actionArr.push(\"根x\" + numOfGen); \n                }                \n                \n                if(ischadajiao){\n                    actionArr.push(\"查大叫\");\n                }\n                \n                if(userData.hunyise){\n                    actionArr.push(\"混一色\");\n                }\n                \n                if(userData.duiduihu){\n                    actionArr.push(\"对对胡\");\n                }\n                \n                if(userData.paihu){\n                    actionArr.push(\"排胡\");\n                }\n                \n                if(userData.gangshanghua){\n                    actionArr.push(\"杠上花\");\n                }\n                \n                if(userData.kan){\n                    actionArr.push(\"坎档\");\n                }\n                \n                if(userData.bian){\n                    actionArr.push(\"边档\");\n                }\n                \n                if(userData.dan){\n                    actionArr.push(\"单吊\");\n                }\n                \n                if(userData.duidao){\n                    actionArr.push(\"对倒\");\n                }\n            }\n            \n            for(var o = 0; o < 3;++o){\n                seatView.hu.children[o].active = false;    \n            }\n            if(userData.huorder >= 0){\n                seatView.hu.children[userData.huorder].active = true;    \n            }\n\n            seatView.username.string = cc.vv.gameNetMgr.seats[i].name;\n            seatView.zhuang.active = cc.vv.gameNetMgr.button == i;\n            seatView.reason.string = actionArr.join(\"、\");\n            \n            //显示丝数台数\n            console.log(\"显示台和丝\");\n            console.log(userData.tai);\n            console.log(userData.si);\n            console.log( seatView.taisi.string);\n            seatView.taisi.string = userData.tai + \"台\" + userData.si + \"丝\";\n            \n            //显示胡数\n            var fan = 0;\n            fan = userData.fan;\n            seatView.fan.string = fan + \"胡\";\n            \n            \n            \n            //\n            if(userData.score > 0){\n                seatView.score.string = \"+\" + userData.score;    \n            }\n            else{\n                seatView.score.string = userData.score;\n            }\n           \n            \n            var hupai = -1;\n            if(hued){\n                hupai = userData.holds.pop();\n            }\n            \n            cc.vv.mahjongmgr.sortMJ(userData.holds,userData.dingque);\n            \n            //胡牌不参与排序\n            if(hued){\n                userData.holds.push(hupai);\n            }\n            \n            //隐藏所有牌\n            for(var k = 0; k < seatView.mahjongs.childrenCount; ++k){\n                var n = seatView.mahjongs.children[k];\n                n.active = false;\n            }\n           \n            var lackingNum = (userData.pengs.length + numOfGangs + userData.chis.length)*3; \n            //显示相关的牌\n            for(var k = 0; k < userData.holds.length; ++k){\n                var pai = userData.holds[k];\n                var n = seatView.mahjongs.children[k + lackingNum];\n                n.active = true;\n                var sprite = n.getComponent(cc.Sprite);\n                sprite.spriteFrame = cc.vv.mahjongmgr.getSpriteFrameByMJID(\"M_\",pai);\n            }\n            \n            \n            for(var k = 0; k < seatView._pengandgang.length; ++k){\n                seatView._pengandgang[k].active = false;\n            }\n            \n            //初始化杠牌\n            var index = 0;\n            var gangs = userData.angangs;\n            for(var k = 0; k < gangs.length; ++k){\n                var mjid = gangs[k];\n                this.initPengAndGangs(seatView,index,mjid,\"angang\");\n                index++;    \n            }\n            \n            var gangs = userData.diangangs;\n            for(var k = 0; k < gangs.length; ++k){\n                var mjid = gangs[k];\n                this.initPengAndGangs(seatView,index,mjid,\"diangang\");\n                index++;    \n            }\n            \n            var gangs = userData.wangangs;\n            for(var k = 0; k < gangs.length; ++k){\n                var mjid = gangs[k];\n                this.initPengAndGangs(seatView,index,mjid,\"wangang\");\n                index++;    \n            }\n            \n            //初始化碰牌\n            var pengs = userData.pengs\n            if(pengs){\n                for(var k = 0; k < pengs.length; ++k){\n                    var mjid = pengs[k];\n                    this.initPengAndGangs(seatView,index,mjid,\"peng\");\n                    index++;    \n                }    \n            }\n            \n            //初始化吃牌\n            var chis = userData.chis \n            if(chis){\n                for(var k = 0; k < chis.length; ++k){\n                    var mjid = chis[k];\n                    this.initPengAndGangs(seatView,index,mjid,\"chi\");\n                    index++;    \n                }    \n            }\n            \n            //初始化花牌 TODO:和下面一样写初始化函数 并且要首先隐藏所有的花\n             \n            var huas = userData.huas; \n            var hua_node = this._gameover.getChildByName(\"result_list\").getChildByName(\"s\"+(i+1)).getChildByName(\"huas\");\n            for(var k = 0; k < hua_node.childrenCount; ++k){\n                hua_node.children[k].active = false;\n            }  \n            if(huas){\n                for(var k = 0; k < huas.length; ++k){\n                    var mjid = huas[k];\n                    hua_node.children[k].active = true;\n                    var sp = hua_node.children[k].getComponent(cc.Sprite);\n                    sp.spriteFrame = cc.vv.mahjongmgr.getSpriteFrameByMJID(\"M_\",mjid);\n                    \n                }    \n            }\n            \n            \n            //东南西北小旗子转换\n            var switchFengFlag = function (direction,dir_str){\n                for(var k = 0 ; k < 4 ; k ++) {\n                    direction.children[k].active = false;\n                }\n                direction.getChildByName(dir_str).active=true;\n            };\n            \n            //显示当前风圈和局数\n            var numofgames = this._gameover.getChildByName(\"numofgames\");\n            var fengquan = \"东风圈\";\n            switch (cc.vv.gameNetMgr.fengxiang) {\n                case 0: fengquan = \"东风圈\";break;\n                case 1: fengquan = \"南风圈\";break;\n                case 2: fengquan = \"西风圈\";break;\n                case 3: fengquan = \"北风圈\";break;\n            }\n            numofgames.getComponent(cc.Label).string = fengquan;\n            \n            //判断东南西北\n            if(userData.button){\n                var direction = this._gameover.getChildByName(\"result_list\").getChildByName(\"s\"+(i%4+1)).getChildByName(\"direction\");\n                switchFengFlag(direction,\"dong\");\n                \n                var direction = this._gameover.getChildByName(\"result_list\").getChildByName(\"s\"+(((i+1)%4)+1)).getChildByName(\"direction\");\n                switchFengFlag(direction,\"nan\");\n                \n                var direction = this._gameover.getChildByName(\"result_list\").getChildByName(\"s\"+(((i+2)%4)+1)).getChildByName(\"direction\");\n                switchFengFlag(direction,\"xi\");\n                \n                var direction = this._gameover.getChildByName(\"result_list\").getChildByName(\"s\"+(((i+3)%4)+1)).getChildByName(\"direction\");\n                switchFengFlag(direction,\"bei\");\n            }\n        }\n    },\n    onGameOver_DHMJ:function(data){\n        console.log(data);\n        if(data.length == 0){\n            this._gameresult.active = true;\n            return;\n        }\n        this._gameover.active = true;\n        this._pingju.active = false;\n        this._win.active = false;\n        this._lose.active = false;\n\n        var myscore = data[cc.vv.gameNetMgr.seatIndex].score;\n        if(myscore > 0){\n            this._win.active = true;\n        }         \n        else if(myscore < 0){\n            this._lose.active = true;\n        }\n        else{\n            this._pingju.active = true;\n        }\n        \n            \n        //显示玩家信息\n        for(var i = 0; i < 4; ++i){\n            var seatView = this._seats[i];\n            var userData = data[i];\n            var hued = false;\n            //胡牌的玩家才显示 是否清一色 根xn的字样\n            var numOfGangs = userData.angangs.length + userData.wangangs.length + userData.diangangs.length;\n            var numOfGen = userData.numofgen;\n            var actionArr = [];\n            var is7pairs = false;\n            var ischadajiao = false;\n            for(var j = 0; j < userData.actions.length; ++j){\n                var ac = userData.actions[j];\n                if(ac.type == \"zimo\" || ac.type == \"ganghua\" || ac.type == \"dianganghua\" || ac.type == \"hu\" || ac.type == \"gangpaohu\" || ac.type == \"qiangganghu\" || ac.type == \"chadajiao\"){\n                    if(userData.pattern == \"7pairs\"){\n                        actionArr.push(\"七对\");\n                    }\n                    else if(userData.pattern == \"l7pairs\"){\n                        actionArr.push(\"龙七对\");\n                    }\n                    else if(userData.pattern == \"j7pairs\"){\n                        actionArr.push(\"将七对\");\n                    }\n                    else if(userData.pattern == \"duidui\"){\n                        actionArr.push(\"碰碰胡\");\n                    }\n                    else if(userData.pattern == \"jiangdui\"){\n                        actionArr.push(\"将对\");\n                    }\n                    \n                    if(ac.type == \"zimo\"){\n                        actionArr.push(\"自摸\");\n                    }\n                    else if(ac.type == \"ganghua\"){\n                        actionArr.push(\"杠上花\");\n                    }\n                    else if(ac.type == \"dianganghua\"){\n                        actionArr.push(\"点杠花\");\n                    }\n                    else if(ac.type == \"gangpaohu\"){\n                        actionArr.push(\"杠炮胡\");\n                    }\n                    else if(ac.type == \"qiangganghu\"){\n                        actionArr.push(\"抢杠胡\");\n                    }\n                    else if(ac.type == \"chadajiao\"){\n                        ischadajiao = true;\n                    }\n                    hued = true;\n                }\n                else if(ac.type == \"fangpao\"){\n                    actionArr.push(\"放炮\");\n                }\n                else if(ac.type == \"angang\"){\n                    actionArr.push(\"暗杠\");\n                }\n                else if(ac.type == \"diangang\"){\n                    actionArr.push(\"明杠\");\n                }\n                else if(ac.type == \"wangang\"){\n                    actionArr.push(\"弯杠\");\n                }\n                else if(ac.type == \"fanggang\"){\n                   actionArr.push(\"放杠\");\n                }\n                else if(ac.type == \"zhuanshougang\"){\n                    actionArr.push(\"转手杠\");\n                }\n                else if(ac.type == \"beiqianggang\"){\n                    actionArr.push(\"被抢杠\");\n                }\n                else if(ac.type == \"beichadajiao\"){\n                    actionArr.push(\"被查叫\");\n                }\n                else if(ac.type == \"sanchisanpeng0\"){\n                    actionArr.push(\"三吃三碰东\");\n                }\n                else if(ac.type == \"sanchisanpeng1\"){\n                    actionArr.push(\"三吃三碰南\");\n                }\n                else if(ac.type == \"sanchisanpeng2\"){\n                    actionArr.push(\"三吃三碰西\");\n                }\n                else if(ac.type == \"sanchisanpeng3\"){\n                    actionArr.push(\"三吃三碰北\");\n                }\n            }\n            \n            if(hued){\n                this._gameover.getChildByName(\"result_list\").getChildByName(\"s\"+(i+1)).getChildByName(\"hu\").active = true;\n                \n                if(userData.qingyise){\n                    actionArr.push(\"清一色\");\n                }\n                \n                if(userData.menqing){\n                    actionArr.push(\"门清\");\n                }\n                \n                if(userData.zhongzhang){\n                    actionArr.push(\"中张\");\n                }\n                \n                if(userData.jingouhu){\n                    actionArr.push(\"金钩胡\");\n                }\n                                \n                if(userData.haidihu){\n                    actionArr.push(\"海底胡\");\n                }\n                \n                if(userData.tianhu){\n                    actionArr.push(\"天胡\");\n                }\n                \n                if(userData.dihu){\n                    actionArr.push(\"地胡\");\n                }\n            \n                if(numOfGen > 0){\n                    actionArr.push(\"根x\" + numOfGen); \n                }                \n                \n                if(ischadajiao){\n                    actionArr.push(\"查大叫\");\n                }\n                \n                if(userData.hunyise){\n                    actionArr.push(\"混一色\");\n                }\n                \n                if(userData.duiduihu){\n                    actionArr.push(\"对对胡\");\n                }\n                \n                if(userData.paihu){\n                    actionArr.push(\"排胡\");\n                }\n                \n                if(userData.gangshanghua){\n                    actionArr.push(\"杠上花\");\n                }\n                \n                if(userData.kan){\n                    actionArr.push(\"坎档\");\n                }\n                \n                if(userData.bian){\n                    actionArr.push(\"边档\");\n                }\n                \n                if(userData.dan){\n                    actionArr.push(\"单吊\");\n                }\n                \n                if(userData.duidao){\n                    actionArr.push(\"对倒\");\n                }\n                \n                \n            }else{\n                this._gameover.getChildByName(\"result_list\").getChildByName(\"s\"+(i+1)).getChildByName(\"hu\").active = false;\n            }\n            \n            // for(var o = 0; o < 3;++o){\n            //     seatView.hu.children[o].active = false;    \n            // }\n            // if(userData.huorder >= 0){\n            //     seatView.hu.children[userData.huorder].active = true;    \n            // }\n\n            seatView.username.string = cc.vv.gameNetMgr.seats[i].name;\n            seatView.zhuang.active = cc.vv.gameNetMgr.button == i;\n            seatView.reason.string = actionArr.join(\"、\");\n            \n            //显示丝数台数\n            if(userData.tai == -1) seatView.taisi.string = \"\";\n            else seatView.taisi.string = userData.tai + \"台\";\n            \n            //\n            if(userData.score > 0){\n                seatView.score.string = \"+\" + userData.score;    \n            }\n            else{\n                seatView.score.string = userData.score;\n            }\n           \n            \n            var hupai = -1;\n            if(hued){\n                hupai = userData.holds.pop();\n            }\n            \n            cc.vv.mahjongmgr.sortMJ(userData.holds,userData.dingque);\n            \n            //胡牌不参与排序\n            if(hued){\n                userData.holds.push(hupai);\n            }\n            \n            //隐藏所有牌\n            for(var k = 0; k < seatView.mahjongs.childrenCount; ++k){\n                var n = seatView.mahjongs.children[k];\n                n.active = false;\n            }\n           \n            var lackingNum = (userData.pengs.length + numOfGangs + userData.chis.length)*3; \n            //显示相关的牌\n            for(var k = 0; k < userData.holds.length; ++k){\n                var pai = userData.holds[k];\n                var n = seatView.mahjongs.children[k + lackingNum];\n                n.active = true;\n                var sprite = n.getComponent(cc.Sprite);\n                sprite.spriteFrame = cc.vv.mahjongmgr.getSpriteFrameByMJID(\"M_\",pai);\n            }\n            \n            \n            for(var k = 0; k < seatView._pengandgang.length; ++k){\n                seatView._pengandgang[k].active = false;\n            }\n            \n            //初始化杠牌\n            var index = 0;\n            var gangs = userData.angangs;\n            for(var k = 0; k < gangs.length; ++k){\n                var mjid = gangs[k];\n                this.initPengAndGangs(seatView,index,mjid,\"angang\");\n                index++;    \n            }\n            \n            var gangs = userData.diangangs;\n            for(var k = 0; k < gangs.length; ++k){\n                var mjid = gangs[k];\n                this.initPengAndGangs(seatView,index,mjid,\"diangang\");\n                index++;    \n            }\n            \n            var gangs = userData.wangangs;\n            for(var k = 0; k < gangs.length; ++k){\n                var mjid = gangs[k];\n                this.initPengAndGangs(seatView,index,mjid,\"wangang\");\n                index++;    \n            }\n            \n            //初始化碰牌\n            var pengs = userData.pengs\n            if(pengs){\n                for(var k = 0; k < pengs.length; ++k){\n                    var mjid = pengs[k];\n                    this.initPengAndGangs(seatView,index,mjid,\"peng\");\n                    index++;    \n                }    \n            }\n            \n            //初始化吃牌\n            var chis = userData.chis \n            if(chis){\n                for(var k = 0; k < chis.length; ++k){\n                    var mjid = chis[k];\n                    this.initPengAndGangs(seatView,index,mjid,\"chi\");\n                    index++;    \n                }    \n            }\n            \n            //初始化花牌 TODO:和下面一样写初始化函数 并且要首先隐藏所有的花\n             \n            var huas = userData.huas; \n            var hua_node = this._gameover.getChildByName(\"result_list\").getChildByName(\"s\"+(i+1)).getChildByName(\"huas\");\n            for(var k = 0; k < hua_node.childrenCount; ++k){\n                hua_node.children[k].active = false;\n            }  \n            if(huas){\n                for(var k = 0; k < huas.length; ++k){\n                    var mjid = huas[k];\n                    hua_node.children[k].active = true;\n                    var sp = hua_node.children[k].getComponent(cc.Sprite);\n                    sp.spriteFrame = cc.vv.mahjongmgr.getSpriteFrameByMJID(\"M_\",mjid);\n                    \n                }    \n            }\n            \n            //东南西北小旗子转换\n            var switchFengFlag = function (direction,dir_str){\n                for(var k = 0 ; k < 4 ; k ++) {\n                    direction.children[k].active = false;\n                }\n                direction.getChildByName(dir_str).active=true;\n            };\n            \n            //显示当前风圈和局数\n            var numofgames = this._gameover.getChildByName(\"numofgames\");\n            var fengquan = \"东风圈\";\n            switch (cc.vv.gameNetMgr.fengxiang) {\n                case 0: fengquan = \"东风圈\";break;\n                case 1: fengquan = \"南风圈\";break;\n                case 2: fengquan = \"西风圈\";break;\n                case 3: fengquan = \"北风圈\";break;\n            }\n            numofgames.getComponent(cc.Label).string = fengquan;\n            \n            //判断东南西北\n            if(userData.button){\n                var direction = this._gameover.getChildByName(\"result_list\").getChildByName(\"s\"+(i%4+1)).getChildByName(\"direction\");\n                switchFengFlag(direction,\"dong\");\n                \n                var direction = this._gameover.getChildByName(\"result_list\").getChildByName(\"s\"+(((i+1)%4)+1)).getChildByName(\"direction\");\n                switchFengFlag(direction,\"nan\");\n                \n                var direction = this._gameover.getChildByName(\"result_list\").getChildByName(\"s\"+(((i+2)%4)+1)).getChildByName(\"direction\");\n                switchFengFlag(direction,\"xi\");\n                \n                var direction = this._gameover.getChildByName(\"result_list\").getChildByName(\"s\"+(((i+3)%4)+1)).getChildByName(\"direction\");\n                switchFengFlag(direction,\"bei\");\n            }\n        }\n    },\n    onGameOver_TDH:function(data){\n        console.log(data);\n        if(data.length == 0){\n            this._gameresult.active = true;\n            return;\n        }\n        this._gameover.active = true;\n        this._pingju.active = false;\n        this._win.active = false;\n        this._lose.active = false;\n\n        var myscore = data[cc.vv.gameNetMgr.seatIndex].score;\n        if(myscore > 0){\n            this._win.active = true;\n        }         \n        else if(myscore < 0){\n            this._lose.active = true;\n        }\n        else{\n            this._pingju.active = true;\n        }\n        \n            \n        //显示玩家信息\n        for(var i = 0; i < 4; ++i){\n            var seatView = this._seats[i];\n            var userData = data[i];\n            var hued = false;\n            //胡牌的玩家才显示 是否清一色 根xn的字样\n            var numOfGangs = userData.angangs.length + userData.wangangs.length + userData.diangangs.length;\n            var numOfGen = userData.numofgen;\n            var actionArr = [];\n            var is7pairs = false;\n            var ischadajiao = false;\n            for(var j = 0; j < userData.actions.length; ++j){\n                var ac = userData.actions[j];\n                if(ac.type == \"zimo\" || ac.type == \"ganghua\" || ac.type == \"dianganghua\" || ac.type == \"hu\" || ac.type == \"gangpaohu\" || ac.type == \"qiangganghu\" || ac.type == \"chadajiao\"){\n                    if(userData.pattern == \"7pairs\"){\n                        actionArr.push(\"七对\");\n                    }\n                    else if(userData.pattern == \"l7pairs\"){\n                        actionArr.push(\"龙七对\");\n                    }\n                    else if(userData.pattern == \"j7pairs\"){\n                        actionArr.push(\"将七对\");\n                    }\n                    else if(userData.pattern == \"duidui\"){\n                        actionArr.push(\"碰碰胡\");\n                    }\n                    else if(userData.pattern == \"jiangdui\"){\n                        actionArr.push(\"将对\");\n                    }\n                    \n                    if(ac.type == \"zimo\"){\n                        actionArr.push(\"自摸\");\n                    }\n                    else if(ac.type == \"ganghua\"){\n                        actionArr.push(\"杠上花\");\n                    }\n                    else if(ac.type == \"dianganghua\"){\n                        actionArr.push(\"点杠花\");\n                    }\n                    else if(ac.type == \"gangpaohu\"){\n                        actionArr.push(\"杠炮胡\");\n                    }\n                    else if(ac.type == \"qiangganghu\"){\n                        actionArr.push(\"抢杠胡\");\n                    }\n                    else if(ac.type == \"chadajiao\"){\n                        ischadajiao = true;\n                    }\n                    hued = true;\n                }\n                else if(ac.type == \"fangpao\"){\n                    actionArr.push(\"放炮\");\n                }\n                else if(ac.type == \"angang\"){\n                    actionArr.push(\"暗杠\");\n                }\n                else if(ac.type == \"diangang\"){\n                    actionArr.push(\"明杠\");\n                }\n                else if(ac.type == \"wangang\"){\n                    actionArr.push(\"弯杠\");\n                }\n                else if(ac.type == \"fanggang\"){\n                   actionArr.push(\"放杠\");\n                }\n                else if(ac.type == \"zhuanshougang\"){\n                    actionArr.push(\"转手杠\");\n                }\n                else if(ac.type == \"beiqianggang\"){\n                    actionArr.push(\"被抢杠\");\n                }\n                else if(ac.type == \"beichadajiao\"){\n                    actionArr.push(\"被查叫\");\n                }\n            }\n            \n            if(hued){\n                if(userData.qingyise){\n                    actionArr.push(\"清一色\");\n                }\n                \n                if(userData.menqing){\n                    actionArr.push(\"门清\");\n                }\n                \n                if(userData.zhongzhang){\n                    actionArr.push(\"中张\");\n                }\n                \n                if(userData.jingouhu){\n                    actionArr.push(\"金钩胡\");\n                }\n                                \n                if(userData.haidihu){\n                    actionArr.push(\"海底胡\");\n                }\n                \n                if(userData.tianhu){\n                    actionArr.push(\"天胡\");\n                }\n                \n                if(userData.dihu){\n                    actionArr.push(\"地胡\");\n                }\n            \n                if(numOfGen > 0){\n                    actionArr.push(\"根x\" + numOfGen); \n                }                \n                \n                if(ischadajiao){\n                    actionArr.push(\"查大叫\");\n                }\n                \n                if(userData.hunyise){\n                    actionArr.push(\"混一色\");\n                }\n                \n                if(userData.duiduihu){\n                    actionArr.push(\"对对胡\");\n                }\n                \n                if(userData.paihu){\n                    actionArr.push(\"排胡\");\n                }\n                \n                if(userData.gangshanghua){\n                    actionArr.push(\"杠上花\");\n                }\n                \n                if(userData.kan){\n                    actionArr.push(\"坎档\");\n                }\n                \n                if(userData.bian){\n                    actionArr.push(\"边档\");\n                }\n                \n                if(userData.dan){\n                    actionArr.push(\"单吊\");\n                }\n                \n                if(userData.duidao){\n                    actionArr.push(\"对倒\");\n                }\n                \n                \n            }\n            \n            for(var o = 0; o < 3;++o){\n                seatView.hu.children[o].active = false;    \n            }\n            if(userData.huorder >= 0){\n                seatView.hu.children[userData.huorder].active = true;    \n            }\n\n            seatView.username.string = cc.vv.gameNetMgr.seats[i].name;\n            seatView.zhuang.active = cc.vv.gameNetMgr.button == i;\n            seatView.reason.string = actionArr.join(\"、\");\n            \n            \n            //显示丝数台数\n            seatView.taisi.string = \"\";\n            \n          \n            //\n            if(userData.score > 0){\n                seatView.score.string = \"+\" + userData.score;    \n            }\n            else{\n                seatView.score.string = userData.score;\n            }\n           \n            \n            var hupai = -1;\n            if(hued){\n                hupai = userData.holds.pop();\n            }\n            \n            cc.vv.mahjongmgr.sortMJ(userData.holds,userData.dingque);\n            \n            //胡牌不参与排序\n            if(hued){\n                userData.holds.push(hupai);\n            }\n            \n            //隐藏所有牌\n            for(var k = 0; k < seatView.mahjongs.childrenCount; ++k){\n                var n = seatView.mahjongs.children[k];\n                n.active = false;\n            }\n           \n            var lackingNum = (userData.pengs.length + numOfGangs + userData.chis.length)*3; \n            //显示相关的牌\n            for(var k = 0; k < userData.holds.length; ++k){\n                var pai = userData.holds[k];\n                var n = seatView.mahjongs.children[k + lackingNum];\n                n.active = true;\n                var sprite = n.getComponent(cc.Sprite);\n                sprite.spriteFrame = cc.vv.mahjongmgr.getSpriteFrameByMJID(\"M_\",pai);\n            }\n            \n            \n            for(var k = 0; k < seatView._pengandgang.length; ++k){\n                seatView._pengandgang[k].active = false;\n            }\n            \n            //初始化杠牌\n            var index = 0;\n            var gangs = userData.angangs;\n            for(var k = 0; k < gangs.length; ++k){\n                var mjid = gangs[k];\n                this.initPengAndGangs(seatView,index,mjid,\"angang\");\n                index++;    \n            }\n            \n            var gangs = userData.diangangs;\n            for(var k = 0; k < gangs.length; ++k){\n                var mjid = gangs[k];\n                this.initPengAndGangs(seatView,index,mjid,\"diangang\");\n                index++;    \n            }\n            \n            var gangs = userData.wangangs;\n            for(var k = 0; k < gangs.length; ++k){\n                var mjid = gangs[k];\n                this.initPengAndGangs(seatView,index,mjid,\"wangang\");\n                index++;    \n            }\n            \n            //初始化碰牌\n            var pengs = userData.pengs\n            if(pengs){\n                for(var k = 0; k < pengs.length; ++k){\n                    var mjid = pengs[k];\n                    this.initPengAndGangs(seatView,index,mjid,\"peng\");\n                    index++;    \n                }    \n            }\n            \n            //初始化吃牌\n            var chis = userData.chis \n            if(chis){\n                for(var k = 0; k < chis.length; ++k){\n                    var mjid = chis[k];\n                    this.initPengAndGangs(seatView,index,mjid,\"chi\");\n                    index++;    \n                }    \n            }\n            \n            //初始化花牌 TODO:和下面一样写初始化函数 并且要首先隐藏所有的花\n             \n            var huas = userData.huas; \n            var hua_node = this._gameover.getChildByName(\"result_list\").getChildByName(\"s\"+(i+1)).getChildByName(\"huas\");\n            for(var k = 0; k < hua_node.childrenCount; ++k){\n                hua_node.children[k].active = false;\n            }  \n            if(huas){\n                for(var k = 0; k < huas.length; ++k){\n                    var mjid = huas[k];\n                    hua_node.children[k].active = true;\n                    var sp = hua_node.children[k].getComponent(cc.Sprite);\n                    sp.spriteFrame = cc.vv.mahjongmgr.getSpriteFrameByMJID(\"M_\",mjid);\n                    \n                }    \n            }\n            \n            //东南西北小旗子转换\n            var switchFengFlag = function (direction,dir_str){\n                for(var k = 0 ; k < 4 ; k ++) {\n                    direction.children[k].active = false;\n                }\n                direction.getChildByName(dir_str).active=true;\n            };\n            \n            //显示当前风圈和局数\n            var numofgames = this._gameover.getChildByName(\"numofgames\");\n            var fengquan = \"东风圈\";\n            switch (cc.vv.gameNetMgr.fengxiang) {\n                case 0: fengquan = \"东风圈\";break;\n                case 1: fengquan = \"南风圈\";break;\n                case 2: fengquan = \"西风圈\";break;\n                case 3: fengquan = \"北风圈\";break;\n            }\n            numofgames.getComponent(cc.Label).string = fengquan;\n            \n            //判断东南西北\n            if(userData.button){\n                var direction = this._gameover.getChildByName(\"result_list\").getChildByName(\"s\"+(i%4+1)).getChildByName(\"direction\");\n                switchFengFlag(direction,\"dong\");\n                \n                var direction = this._gameover.getChildByName(\"result_list\").getChildByName(\"s\"+(((i+1)%4)+1)).getChildByName(\"direction\");\n                switchFengFlag(direction,\"nan\");\n                \n                var direction = this._gameover.getChildByName(\"result_list\").getChildByName(\"s\"+(((i+2)%4)+1)).getChildByName(\"direction\");\n                switchFengFlag(direction,\"xi\");\n                \n                var direction = this._gameover.getChildByName(\"result_list\").getChildByName(\"s\"+(((i+3)%4)+1)).getChildByName(\"direction\");\n                switchFengFlag(direction,\"bei\");\n            }\n        }\n    },\n    \n    initPengAndGangs:function(seatView,index,mjid,flag){\n        var pgroot = null;\n        if(seatView._pengandgang.length <= index){\n            pgroot = cc.instantiate(cc.vv.mahjongmgr.pengPrefabSelf);\n            seatView._pengandgang.push(pgroot);\n            seatView.mahjongs.addChild(pgroot);    \n        }\n        else{\n            pgroot = seatView._pengandgang[index];\n            pgroot.active = true;\n        }\n      \n        var sprites = pgroot.getComponentsInChildren(cc.Sprite);\n        for(var s = 0; s < sprites.length; ++s){\n            var sprite = sprites[s];\n            if(sprite.node.name == \"gang\"){\n                var isGang = flag != \"peng\";\n                sprite.node.active = isGang;\n                sprite.node.scaleX = 1.0;\n                sprite.node.scaleY = 1.0;\n                if(flag == \"angang\"){\n                    sprite.spriteFrame = cc.vv.mahjongmgr.getEmptySpriteFrame(\"myself\");\n                    sprite.node.scaleX = 1.4;\n                    sprite.node.scaleY = 1.4;                        \n                }   \n                else{\n                    sprite.spriteFrame = cc.vv.mahjongmgr.getSpriteFrameByMJID(\"B_\",mjid);    \n                }\n            }\n            else{\n                if(flag==\"peng\")\n                sprite.spriteFrame = cc.vv.mahjongmgr.getSpriteFrameByMJID(\"B_\",mjid);\n                else if (flag==\"chi\"){\n                     sprite.spriteFrame = cc.vv.mahjongmgr.getSpriteFrameByMJID(\"B_\",mjid[s]);\n                }else{\n                    sprite.spriteFrame = cc.vv.mahjongmgr.getSpriteFrameByMJID(\"B_\",mjid);\n                }\n            }\n        }\n        pgroot.x = index * 55 * 3 + index * 10;\n    },\n\n    \n    onBtnReadyClicked:function(){\n        console.log(\"onBtnReadyClicked\");\n        if(this._isGameEnd){\n            this._gameresult.active = true;\n        }\n        else{\n            cc.vv.net.send('ready');   \n        }\n        this._gameover.active = false;\n    },\n    \n    onBtnShareClicked:function(){\n        console.log(\"onBtnShareClicked\");\n    }\n\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n\n    // },\n});\n"]}