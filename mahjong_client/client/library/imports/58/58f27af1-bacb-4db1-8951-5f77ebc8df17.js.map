{"version":3,"sources":["assets/scripts/components/Chat.js"],"names":["cc","Class","extends","Component","properties","_chatRoot","_tabQuick","_tabEmoji","_iptChat","_quickChatInfo","_btnChat","onLoad","vv","chat","node","getChildByName","active","replayMgr","isReplay","getComponent","EditBox","index","content","sound","getQuickChatInfo","key","onBtnChatClicked","onBgClicked","onTabClicked","event","target","name","onQuickChatItemClicked","info","net","send","onEmojiItemClicked","console","log","onBtnSendChatClicked","string"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,mBAAU,IAVF;AAWRC,mBAAU,IAXF;AAYRC,mBAAU,IAZF;AAaRC,kBAAS,IAbD;;AAeRC,wBAAe,IAfP;AAgBRC,kBAAS;AAhBD,KAHP;;AAsBL;AACAC,YAAQ,kBAAY;AAChB,YAAGX,GAAGY,EAAH,IAAS,IAAZ,EAAiB;AACb;AACH;;AAEDZ,WAAGY,EAAH,CAAMC,IAAN,GAAa,IAAb;;AAEA,aAAKH,QAAL,GAAgB,KAAKI,IAAL,CAAUC,cAAV,CAAyB,UAAzB,CAAhB;AACA,aAAKL,QAAL,CAAcM,MAAd,GAAuBhB,GAAGY,EAAH,CAAMK,SAAN,CAAgBC,QAAhB,MAA8B,KAArD;;AAEA,aAAKb,SAAL,GAAiB,KAAKS,IAAL,CAAUC,cAAV,CAAyB,MAAzB,CAAjB;AACA,aAAKV,SAAL,CAAeW,MAAf,GAAwB,KAAxB;;AAEA,aAAKV,SAAL,GAAiB,KAAKD,SAAL,CAAeU,cAAf,CAA8B,eAA9B,CAAjB;AACA,aAAKR,SAAL,GAAiB,KAAKF,SAAL,CAAeU,cAAf,CAA8B,QAA9B,CAAjB;;AAEA,aAAKP,QAAL,GAAgB,KAAKH,SAAL,CAAeU,cAAf,CAA8B,SAA9B,EAAyCI,YAAzC,CAAsDnB,GAAGoB,OAAzD,CAAhB;;AAGA,aAAKX,cAAL,GAAsB,EAAtB;AACA,aAAKA,cAAL,CAAoB,OAApB,IAA+B,EAACY,OAAM,CAAP,EAASC,SAAQ,iBAAjB,EAAmCC,OAAM,eAAzC,EAA/B;AACA,aAAKd,cAAL,CAAoB,OAApB,IAA+B,EAACY,OAAM,CAAP,EAASC,SAAQ,kBAAjB,EAAoCC,OAAM,eAA1C,EAA/B;AACA,aAAKd,cAAL,CAAoB,OAApB,IAA+B,EAACY,OAAM,CAAP,EAASC,SAAQ,YAAjB,EAA8BC,OAAM,eAApC,EAA/B;AACA,aAAKd,cAAL,CAAoB,OAApB,IAA+B,EAACY,OAAM,CAAP,EAASC,SAAQ,YAAjB,EAA8BC,OAAM,eAApC,EAA/B;AACA,aAAKd,cAAL,CAAoB,OAApB,IAA+B,EAACY,OAAM,CAAP,EAASC,SAAQ,YAAjB,EAA8BC,OAAM,eAApC,EAA/B;AACA,aAAKd,cAAL,CAAoB,OAApB,IAA+B,EAACY,OAAM,CAAP,EAASC,SAAQ,aAAjB,EAA+BC,OAAM,eAArC,EAA/B;AACA,aAAKd,cAAL,CAAoB,OAApB,IAA+B,EAACY,OAAM,CAAP,EAASC,SAAQ,cAAjB,EAAgCC,OAAM,eAAtC,EAA/B;AACA,aAAKd,cAAL,CAAoB,OAApB,IAA+B,EAACY,OAAM,CAAP,EAASC,SAAQ,oBAAjB,EAAsCC,OAAM,eAA5C,EAA/B;AACA,aAAKd,cAAL,CAAoB,OAApB,IAA+B,EAACY,OAAM,CAAP,EAASC,SAAQ,cAAjB,EAAgCC,OAAM,eAAtC,EAA/B;AACH,KApDI;;AAsDLC,oBAtDK,4BAsDYH,KAtDZ,EAsDkB;AACnB,YAAII,MAAM,SAASJ,KAAnB;AACA,eAAO,KAAKZ,cAAL,CAAoBgB,GAApB,CAAP;AACH,KAzDI;;;AA2DLC,sBAAiB,4BAAU;AACvB,aAAKrB,SAAL,CAAeW,MAAf,GAAwB,IAAxB;AACH,KA7DI;;AA+DLW,iBAAY,uBAAU;AAClB,aAAKtB,SAAL,CAAeW,MAAf,GAAwB,KAAxB;AACH,KAjEI;;AAmELY,kBAAa,sBAASC,KAAT,EAAe;AACxB,YAAGA,MAAMC,MAAN,CAAaC,IAAb,IAAqB,UAAxB,EAAmC;AAC/B,iBAAKzB,SAAL,CAAeU,MAAf,GAAwB,IAAxB;AACA,iBAAKT,SAAL,CAAeS,MAAf,GAAwB,KAAxB;AACH,SAHD,MAIK,IAAGa,MAAMC,MAAN,CAAaC,IAAb,IAAqB,UAAxB,EAAmC;AACpC,iBAAKzB,SAAL,CAAeU,MAAf,GAAwB,KAAxB;AACA,iBAAKT,SAAL,CAAeS,MAAf,GAAwB,IAAxB;AACH;AACJ,KA5EI;;AA8ELgB,4BAAuB,gCAASH,KAAT,EAAe;AAClC,aAAKxB,SAAL,CAAeW,MAAf,GAAwB,KAAxB;AACA,YAAIiB,OAAO,KAAKxB,cAAL,CAAoBoB,MAAMC,MAAN,CAAaC,IAAjC,CAAX;AACA/B,WAAGY,EAAH,CAAMsB,GAAN,CAAUC,IAAV,CAAe,YAAf,EAA4BF,KAAKZ,KAAjC;AACH,KAlFI;;AAoFLe,wBAAmB,4BAASP,KAAT,EAAe;AAC9BQ,gBAAQC,GAAR,CAAYT,MAAMC,MAAN,CAAaC,IAAzB;AACA,aAAK1B,SAAL,CAAeW,MAAf,GAAwB,KAAxB;AACAhB,WAAGY,EAAH,CAAMsB,GAAN,CAAUC,IAAV,CAAe,OAAf,EAAuBN,MAAMC,MAAN,CAAaC,IAApC;AACH,KAxFI;;AA0FLQ,0BAAqB,gCAAU;AAC3B,aAAKlC,SAAL,CAAeW,MAAf,GAAwB,KAAxB;AACA,YAAG,KAAKR,QAAL,CAAcgC,MAAd,IAAwB,EAA3B,EAA8B;AAC1B;AACH;AACDxC,WAAGY,EAAH,CAAMsB,GAAN,CAAUC,IAAV,CAAe,MAAf,EAAsB,KAAK3B,QAAL,CAAcgC,MAApC;AACA,aAAKhC,QAAL,CAAcgC,MAAd,GAAuB,EAAvB;AACH;;AAjGI,CAAT","file":"unknown","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //    default: null,\n        //    url: cc.Texture2D,  // optional, default is typeof default\n        //    serializable: true, // optional, default is true\n        //    visible: true,      // optional, default is true\n        //    displayName: 'Foo', // optional\n        //    readonly: false,    // optional, default is false\n        // },\n        // ...\n        _chatRoot:null,\n        _tabQuick:null,\n        _tabEmoji:null,\n        _iptChat:null,\n        \n        _quickChatInfo:null,\n        _btnChat:null,\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        if(cc.vv == null){\n            return;\n        }\n        \n        cc.vv.chat = this;\n        \n        this._btnChat = this.node.getChildByName(\"btn_chat\");\n        this._btnChat.active = cc.vv.replayMgr.isReplay() == false;\n        \n        this._chatRoot = this.node.getChildByName(\"chat\");\n        this._chatRoot.active = false;\n        \n        this._tabQuick = this._chatRoot.getChildByName(\"quickchatlist\");\n        this._tabEmoji = this._chatRoot.getChildByName(\"emojis\");\n        \n        this._iptChat = this._chatRoot.getChildByName(\"iptChat\").getComponent(cc.EditBox);\n        \n        \n        this._quickChatInfo = {};\n        this._quickChatInfo[\"item0\"] = {index:0,content:\"快点啊，都等到我花儿都谢谢了！\",sound:\"fix_msg_1.mp3\"};\n        this._quickChatInfo[\"item1\"] = {index:1,content:\"怎么又断线了，网络怎么这么差啊！\",sound:\"fix_msg_2.mp3\"};\n        this._quickChatInfo[\"item2\"] = {index:2,content:\"不要走，决战到天亮！\",sound:\"fix_msg_3.mp3\"};\n        this._quickChatInfo[\"item3\"] = {index:3,content:\"你的牌打得也太好了！\",sound:\"fix_msg_4.mp3\"};\n        this._quickChatInfo[\"item4\"] = {index:4,content:\"你是妹妹还是哥哥啊？\",sound:\"fix_msg_5.mp3\"};\n        this._quickChatInfo[\"item5\"] = {index:5,content:\"和你合作真是太愉快了！\",sound:\"fix_msg_6.mp3\"};\n        this._quickChatInfo[\"item6\"] = {index:6,content:\"大家好，很高兴见到各位！\",sound:\"fix_msg_7.mp3\"};\n        this._quickChatInfo[\"item7\"] = {index:7,content:\"各位，真是不好意思，我得离开一会儿。\",sound:\"fix_msg_8.mp3\"};\n        this._quickChatInfo[\"item8\"] = {index:8,content:\"不要吵了，专心玩游戏吧！\",sound:\"fix_msg_9.mp3\"};\n    },\n    \n    getQuickChatInfo(index){\n        var key = \"item\" + index;\n        return this._quickChatInfo[key];   \n    },\n    \n    onBtnChatClicked:function(){\n        this._chatRoot.active = true;\n    },\n    \n    onBgClicked:function(){\n        this._chatRoot.active = false;\n    },\n    \n    onTabClicked:function(event){\n        if(event.target.name == \"tabQuick\"){\n            this._tabQuick.active = true;\n            this._tabEmoji.active = false;\n        }\n        else if(event.target.name == \"tabEmoji\"){\n            this._tabQuick.active = false;\n            this._tabEmoji.active = true;\n        }\n    },\n    \n    onQuickChatItemClicked:function(event){\n        this._chatRoot.active = false;\n        var info = this._quickChatInfo[event.target.name];\n        cc.vv.net.send(\"quick_chat\",info.index); \n    },\n    \n    onEmojiItemClicked:function(event){\n        console.log(event.target.name);\n        this._chatRoot.active = false;\n        cc.vv.net.send(\"emoji\",event.target.name);\n    },\n    \n    onBtnSendChatClicked:function(){\n        this._chatRoot.active = false;\n        if(this._iptChat.string == \"\"){\n            return;\n        }\n        cc.vv.net.send(\"chat\",this._iptChat.string);\n        this._iptChat.string = \"\";\n    },\n\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n\n    // },\n});\n"]}