{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "tipLabel",
    "Label",
    "_stateStr",
    "_progress",
    "_splash",
    "_isLoading",
    "onLoad",
    "sys",
    "isNative",
    "isMobile",
    "cvs",
    "node",
    "getComponent",
    "Canvas",
    "fitHeight",
    "fitWidth",
    "initMgr",
    "string",
    "find",
    "active",
    "self",
    "vv",
    "http",
    "sendRequest",
    "data",
    "console",
    "log",
    "youkeorweixin",
    "os",
    "localStorage",
    "setItem",
    "OS_ANDROID",
    "OS_IOS",
    "getItem",
    "start",
    "SHOW_TIME",
    "FADE_TIME",
    "t",
    "Date",
    "now",
    "fn",
    "dt",
    "setTimeout",
    "op",
    "opacity",
    "checkVersion",
    "UserMgr",
    "require",
    "userMgr",
    "ReplayMgr",
    "replayMgr",
    "global",
    "net",
    "GameNetMgr",
    "gameNetMgr",
    "initHandlers",
    "AnysdkMgr",
    "anysdkMgr",
    "init",
    "VoiceMgr",
    "voiceMgr",
    "AudioMgr",
    "audioMgr",
    "Utils",
    "utils",
    "args",
    "urlParse",
    "params",
    "window",
    "location",
    "name",
    "value",
    "str",
    "href",
    "num",
    "indexOf",
    "substr",
    "arr",
    "split",
    "i",
    "length",
    "substring",
    "onGetVersion",
    "ret",
    "version",
    "SI",
    "VERSION",
    "startPreloading",
    "xhr",
    "complete",
    "fnRequest",
    "abort",
    "onBtnDownloadClicked",
    "openURL",
    "appweb",
    "loader",
    "onProgress",
    "completedCount",
    "totalCount",
    "item",
    "loadResAll",
    "err",
    "assets",
    "onLoadComplete",
    "director",
    "loadScene",
    "onComplete",
    "update",
    "Math",
    "floor"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        tipLabel:cc.Label,\r\n        _stateStr:'',\r\n        _progress:0.0,\r\n        _splash:null,\r\n        _isLoading:false,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        if(!cc.sys.isNative && cc.sys.isMobile){\r\n            var cvs = this.node.getComponent(cc.Canvas);\r\n            cvs.fitHeight = true;\r\n            cvs.fitWidth = true;\r\n        }\r\n        this.initMgr();\r\n        this.tipLabel.string = this._stateStr;\r\n        \r\n        this._splash = cc.find(\"Canvas/splash\");\r\n        this._splash.active = true;\r\n\r\n         var self = this;\r\n        cc.vv.http.sendRequest(\"/mj_login\", 1, function(data){\r\n                console.log(data);\r\n                console.log(data.data);\r\n                console.log(data.data.youkeorweixin);\r\n                console.log(\"datadata\");\r\n                console.log(\"platform:\" + cc.sys.os);\r\n                // youkeorweixin :0��ʾ���ο͵�¼��1��ʾ��΢�ŵ�¼\r\n                cc.sys.localStorage.setItem(\"youkeorweixin\", data.data.youkeorweixin);\r\n                if(cc.sys.os == cc.sys.OS_ANDROID){ \r\n                    console.log(\"platform:\" + cc.sys.OS_ANDROID + \" OS_ANDROID.\");\r\n                     if(data.data.youkeorweixin == \"0\"){ //ֻ���ο͵�¼\r\n                            // var z_weixindenglu = this.node.getChildByName(\"z_weixindenglu\");\r\n                            //  z_weixindenglu.active = false;\r\n                          console.log(\"ffz-loading\");\r\n                       \r\n                            cc.find(\"Canvas/New_Label\").active = false; \r\n\r\n                   \r\n                             \r\n                        \r\n                    }\r\n                    if(data.data.youkeorweixin == \"1\"){ //ֻ��΢�ŵ�¼\r\n                  \r\n                        \r\n                    }\r\n\r\n\r\n                }\r\n                else if(cc.sys.os == cc.sys.OS_IOS){\r\n                    console.log(\"platform:\" + cc.sys.OS_IOS + \" OS_IOS.\");\r\n                  if(data.data.youkeorweixin == \"0\"){ //ֻ���ο͵�¼\r\n                         cc.find(\"Canvas/New_Label\").active = false; \r\n                        \r\n                    }\r\n                    if(data.data.youkeorweixin == \"1\"){ //ֻ��΢�ŵ�¼\r\n                       \r\n                    }\r\n\r\n                  \r\n                }\r\n                else{\r\n                    console.log(\"platform:\" + cc.sys.os + \" dosn't implement share.\");\r\n                }\r\n                var youkeorweixin = cc.sys.localStorage.getItem(\"youkeorweixin\");\r\n                console.log(youkeorweixin);\r\n\r\n        });\r\n  \r\n        \r\n    },\r\n    \r\n    start:function(){        \r\n        var self = this;\r\n        var SHOW_TIME = 3000;\r\n        var FADE_TIME = 500;\r\n        if(cc.sys.os != cc.sys.OS_IOS || !cc.sys.isNative){\r\n            self._splash.active = true;\r\n            var t = Date.now();\r\n            var fn = function(){\r\n                var dt = Date.now() - t;\r\n                if(dt < SHOW_TIME){\r\n                    setTimeout(fn,33);\r\n                }\r\n                else {\r\n                    var op = (1 - ((dt - SHOW_TIME) / FADE_TIME)) * 255;\r\n                    if(op < 0){\r\n                        self._splash.opacity = 0;\r\n                        self.checkVersion();    \r\n                    }\r\n                    else{\r\n                        self._splash.opacity = op;\r\n                        setTimeout(fn,33);   \r\n                    }\r\n                }\r\n            };\r\n            setTimeout(fn,33);\r\n        }\r\n        else{\r\n            this._splash.active = false;\r\n            this.checkVersion();\r\n        }\r\n    },\r\n    \r\n    initMgr:function(){\r\n        cc.vv = {};\r\n        var UserMgr = require(\"UserMgr\");\r\n        cc.vv.userMgr = new UserMgr();\r\n        \r\n        var ReplayMgr = require(\"ReplayMgr\");\r\n        cc.vv.replayMgr = new ReplayMgr();\r\n        \r\n        cc.vv.http = require(\"HTTP\");\r\n        cc.vv.global = require(\"Global\");\r\n        cc.vv.net = require(\"Net\");\r\n        \r\n        var GameNetMgr = require(\"GameNetMgr\");\r\n        cc.vv.gameNetMgr = new GameNetMgr();\r\n        cc.vv.gameNetMgr.initHandlers();\r\n        \r\n        var AnysdkMgr = require(\"AnysdkMgr\");\r\n        cc.vv.anysdkMgr = new AnysdkMgr();\r\n        cc.vv.anysdkMgr.init();\r\n        \r\n        var VoiceMgr = require(\"VoiceMgr\");\r\n        cc.vv.voiceMgr = new VoiceMgr();\r\n        cc.vv.voiceMgr.init();\r\n        \r\n        var AudioMgr = require(\"AudioMgr\");\r\n        cc.vv.audioMgr = new AudioMgr();\r\n        cc.vv.audioMgr.init();\r\n        \r\n        var Utils = require(\"Utils\");\r\n        cc.vv.utils = new Utils();\r\n        \r\n        cc.args = this.urlParse();\r\n    },\r\n    \r\n    urlParse:function(){\r\n        var params = {};\r\n        if(window.location == null){\r\n            return params;\r\n        }\r\n        var name,value; \r\n        var str=window.location.href; //取得整个地址栏\r\n        var num=str.indexOf(\"?\") \r\n        str=str.substr(num+1); //取得所有参数   stringvar.substr(start [, length ]\r\n        \r\n        var arr=str.split(\"&\"); //各个参数放到数组里\r\n        for(var i=0;i < arr.length;i++){ \r\n            num=arr[i].indexOf(\"=\"); \r\n            if(num>0){ \r\n                name=arr[i].substring(0,num);\r\n                value=arr[i].substr(num+1);\r\n                params[name]=value;\r\n            } \r\n        }\r\n        return params;\r\n    },\r\n    \r\n    checkVersion:function(){\r\n        var self = this;\r\n        var onGetVersion = function(ret){\r\n            if(ret.version == null){\r\n                console.log(\"error.\");\r\n            }\r\n            else{\r\n                cc.vv.SI = ret;\r\n                if(ret.version != cc.VERSION){\r\n                    cc.find(\"Canvas/alert\").active = true;\r\n                }\r\n                else{\r\n                    self.startPreloading();\r\n                }\r\n            }\r\n        };\r\n        \r\n        var xhr = null;\r\n        var complete = false;\r\n        var fnRequest = function(){\r\n            self._stateStr = \"正在连接服务器\";\r\n            xhr = cc.vv.http.sendRequest(\"/get_serverinfo\",null,function(ret){\r\n                xhr = null;\r\n                complete = true;\r\n                onGetVersion(ret);\r\n            });\r\n            setTimeout(fn,5000);            \r\n        }\r\n        \r\n        var fn = function(){\r\n            if(!complete){\r\n                if(xhr){\r\n                    xhr.abort();\r\n                    self._stateStr = \"连接失败，即将重试\";\r\n                    setTimeout(function(){\r\n                        fnRequest();\r\n                    },5000);\r\n                }\r\n                else{\r\n                    fnRequest();\r\n                }\r\n            }\r\n        };\r\n        fn();\r\n    },\r\n    \r\n    onBtnDownloadClicked:function(){\r\n        cc.sys.openURL(cc.vv.SI.appweb);\r\n    },\r\n    \r\n    startPreloading:function(){\r\n        this._stateStr = \"正在加载资源，请稍候\";\r\n        this._isLoading = true;\r\n        var self = this;\r\n        \r\n        cc.loader.onProgress = function ( completedCount, totalCount,  item ){\r\n            //console.log(\"completedCount:\" + completedCount + \",totalCount:\" + totalCount );\r\n            if(self._isLoading){\r\n                self._progress = completedCount/totalCount;\r\n            }\r\n        };\r\n        \r\n        cc.loader.loadResAll(\"textures\", function (err, assets) {\r\n            self.onLoadComplete();\r\n        });      \r\n    },\r\n    \r\n    onLoadComplete:function(){\r\n        this._isLoading = false;\r\n        this._stateStr = \"准备登陆\";\r\n        cc.director.loadScene(\"login\");\r\n        cc.loader.onComplete = null;\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    update: function (dt) {\r\n        if(this._stateStr.length == 0){\r\n            return;\r\n        }\r\n        this.tipLabel.string = this._stateStr + ' ';\r\n        if(this._isLoading){\r\n            this.tipLabel.string += Math.floor(this._progress * 100) + \"%\";   \r\n        }\r\n        else{\r\n            var t = Math.floor(Date.now() / 1000) % 4;\r\n            for(var i = 0; i < t; ++ i){\r\n                this.tipLabel.string += '.';\r\n            }            \r\n        }\r\n    }\r\n});"
  ]
}