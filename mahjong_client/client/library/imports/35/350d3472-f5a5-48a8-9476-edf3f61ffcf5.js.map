{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        tipLabel:cc.Label,\n        _stateStr:'',\n        _progress:0.0,\n        _splash:null,\n        _isLoading:false,\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        if(!cc.sys.isNative && cc.sys.isMobile){\n            var cvs = this.node.getComponent(cc.Canvas);\n            cvs.fitHeight = true;\n            cvs.fitWidth = true;\n        }\n        this.initMgr();\n        this.tipLabel.string = this._stateStr;\n\n        this._splash = cc.find(\"Canvas/splash\");\n        this._splash.active = true;\n\n        cc.vv.http.sendRequest(\"/mj_login\", 1, function(data){\n            cc.sys.localStorage.setItem(\"youkeorweixin\", data.data.youkeorweixin);\n            if (cc.sys.localStorage.getItem(\"youkeorweixin\")==cc.VERSION && cc.sys.os == cc.sys.OS_IOS) {\n                cc.find(\"Canvas/New Label\").active = false;\n            }\n        });\n\n        var progress = this.node.getChildByName(\"progress\")\n        progress.getChildByName(\"progress\").width = 0;\n    },\n\n    start:function(){\n        var self = this;\n        var SHOW_TIME = 3000;\n        var FADE_TIME = 500;\n        if(cc.sys.os != cc.sys.OS_IOS || !cc.sys.isNative){\n            self._splash.active = true;\n            var t = Date.now();\n            var fn = function(){\n                var dt = Date.now() - t;\n                if(dt < SHOW_TIME){\n                    setTimeout(fn,33);\n                }\n                else {\n                    var op = (1 - ((dt - SHOW_TIME) / FADE_TIME)) * 255;\n                    if(op < 0){\n                        self._splash.opacity = 0;\n                        self.checkVersion();\n                    }\n                    else{\n                        self._splash.opacity = op;\n                        setTimeout(fn,33);\n                    }\n                }\n            };\n            setTimeout(fn,33);\n        }\n        else{\n            this._splash.active = false;\n            this.checkVersion();\n        }\n    },\n\n    initMgr:function(){\n        cc.vv = {};\n        var UserMgr = require(\"UserMgr\");\n        cc.vv.userMgr = new UserMgr();\n\n        var ReplayMgr = require(\"ReplayMgr\");\n        cc.vv.replayMgr = new ReplayMgr();\n\n        cc.vv.http = require(\"HTTP\");\n        cc.vv.global = require(\"Global\");\n        cc.vv.net = require(\"Net\");\n\n        var GameNetMgr = require(\"GameNetMgr\");\n        cc.vv.gameNetMgr = new GameNetMgr();\n        cc.vv.gameNetMgr.initHandlers();\n\n        var AnysdkMgr = require(\"AnysdkMgr\");\n        cc.vv.anysdkMgr = new AnysdkMgr();\n        cc.vv.anysdkMgr.init();\n\n        var VoiceMgr = require(\"VoiceMgr\");\n        cc.vv.voiceMgr = new VoiceMgr();\n        cc.vv.voiceMgr.init();\n\n        var AudioMgr = require(\"AudioMgr\");\n        cc.vv.audioMgr = new AudioMgr();\n        cc.vv.audioMgr.init();\n\n        var Utils = require(\"Utils\");\n        cc.vv.utils = new Utils();\n\n        cc.args = this.urlParse();\n    },\n\n    urlParse:function(){\n        var params = {};\n        if(window.location == null){\n            return params;\n        }\n        var name,value;\n        var str=window.location.href; //取得整个地址栏\n        var num=str.indexOf(\"?\")\n        str=str.substr(num+1); //取得所有参数   stringvar.substr(start [, length ]\n\n        var arr=str.split(\"&\"); //各个参数放到数组里\n        for(var i=0;i < arr.length;i++){\n            num=arr[i].indexOf(\"=\");\n            if(num>0){\n                name=arr[i].substring(0,num);\n                value=arr[i].substr(num+1);\n                params[name]=value;\n            }\n        }\n        return params;\n    },\n\n    checkVersion:function(){\n        var self = this;\n        var onGetVersion = function(ret){\n            if(ret.version == null){\n                console.log(\"error.\");\n            }\n            else{\n                cc.vv.SI = ret;\n                if(ret.version != cc.VERSION){\n                    cc.find(\"Canvas/alert\").active = true;\n                }\n                else{\n                    self.startPreloading();\n                }\n            }\n        };\n\n        var xhr = null;\n        var complete = false;\n        var fnRequest = function(){\n            self._stateStr = \"正在连接服务器\";\n            xhr = cc.vv.http.sendRequest(\"/get_serverinfo\",null,function(ret){\n                xhr = null;\n                complete = true;\n                onGetVersion(ret);\n            });\n            setTimeout(fn,5000);\n        }\n\n        var fn = function(){\n            if(!complete){\n                if(xhr){\n                    xhr.abort();\n                    self._stateStr = \"连接失败，即将重试\";\n                    setTimeout(function(){\n                        fnRequest();\n                    },5000);\n                }\n                else{\n                    fnRequest();\n                }\n            }\n        };\n        fn();\n    },\n\n    onBtnDownloadClicked:function(){\n        cc.sys.openURL(cc.vv.SI.appweb);\n    },\n\n    startPreloading:function(){\n        this._stateStr = \"正在加载资源，请稍候\";\n        this._isLoading = true;\n        var self = this;\n\n        cc.loader.onProgress = function ( completedCount, totalCount,  item ){\n            //console.log(\"completedCount:\" + completedCount + \",totalCount:\" + totalCount );\n            if(self._isLoading){\n                self._progress = completedCount/totalCount;\n\n               // var yx = this.node.getChildByName(\"yinxiao\");\n                var width = 790 * self._progress;\n                var progress = self.node.getChildByName(\"progress\")\n                //progress.getComponent(cc.Slider).progress = cc.vv.audioMgr.sfxVolume;\n                progress.getChildByName(\"progress\").width = width;\n            }\n        };\n\n        cc.loader.loadResAll(\"textures\", function (err, assets) {\n            self.onLoadComplete();\n        });\n    },\n\n    onLoadComplete:function(){\n        this._isLoading = false;\n        this._stateStr = \"准备登陆\";\n        cc.director.loadScene(\"login\");\n        cc.loader.onComplete = null;\n    },\n\n    // called every frame, uncomment this function to activate update callback\n    update: function (dt) {\n        if(this._stateStr.length == 0){\n            return;\n        }\n        this.tipLabel.string = this._stateStr + ' ';\n        if(this._isLoading){\n            this.tipLabel.string += Math.floor(this._progress * 100) + \"%\";\n        }\n        else{\n            var t = Math.floor(Date.now() / 1000) % 4;\n            for(var i = 0; i < t; ++ i){\n                this.tipLabel.string += '.';\n            }\n        }\n    }\n});\n"
  ]
}