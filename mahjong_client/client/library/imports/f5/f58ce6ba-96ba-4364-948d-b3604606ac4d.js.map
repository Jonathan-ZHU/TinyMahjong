{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //    default: null,      // The default value will be used only when the component attaching\n        //                           to a node for the first time\n        //    url: cc.Texture2D,  // optional, default is typeof default\n        //    serializable: true, // optional, default is true\n        //    visible: true,      // optional, default is true\n        //    displayName: 'Foo', // optional\n        //    readonly: false,    // optional, default is false\n        // },\n        // ...\n        _isCapturing:false,\n    },\n\n    // use this for initialization\n    onLoad: function () {\n    },\n\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n\n    // },\n    \n    \n\n    \n    init:function(){\n        this.ANDROID_API = \"com/lailai/yzmj/WXAPI\";\n        this.IOS_API = \"AppController\";\n        this.ANDROID_WEBPAGE_API = \"org/cocos2dx/javascript/AppActivity\";\n    },\n    \n    openDownloadPage:function () {\n        console.log(\"open webpage!!!\");\n        console.log(cc.sys.os);\n        console.log(cc.sys.OS_ANDROID);\n        if(cc.sys.os == cc.sys.OS_ANDROID){\n            console.log(\"open webpage OS_ANDROID!!!\");\n            jsb.reflection.callStaticMethod(this.ANDROID_WEBPAGE_API, \"openDownloadPage\", \"(Ljava/lang/String;)V\",cc.vv.SI.appweb);\n        }\n        else if(cc.sys.os == cc.sys.OS_IOS){\n            jsb.reflection.callStaticMethod(this.IOS_API, \"openDownloadPage\");\n        }\n        else{\n            console.log(\"platform:\" + cc.sys.os + \" dosn't implement share.\");\n        }\n    },\n    \n    login:function(){\n        if(cc.sys.os == cc.sys.OS_ANDROID){ \n            jsb.reflection.callStaticMethod(this.ANDROID_API, \"Login\", \"()V\");\n        }\n        else if(cc.sys.os == cc.sys.OS_IOS){\n            jsb.reflection.callStaticMethod(this.IOS_API, \"login\");\n        }\n        else{\n            console.log(\"platform:\" + cc.sys.os + \" dosn't implement share.\");\n        }\n    },\n    \n    share:function(title,desc){\n        if(cc.sys.os == cc.sys.OS_ANDROID){\n            jsb.reflection.callStaticMethod(this.ANDROID_API, \"Share\", \"(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V\",cc.vv.SI.appweb,title,desc);\n        }\n        else if(cc.sys.os == cc.sys.OS_IOS){\n            jsb.reflection.callStaticMethod(this.IOS_API, \"share:shareTitle:shareDesc:\",cc.vv.SI.appweb,title,desc);\n        }\n        else{\n            console.log(\"platform:\" + cc.sys.os + \" dosn't implement share.\");\n        }\n    },\n    \n    shareOnTimeline:function(title,desc){\n        if(cc.sys.os == cc.sys.OS_ANDROID){\n            jsb.reflection.callStaticMethod(this.ANDROID_API, \"ShareOnTimeline\", \"(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V\",cc.vv.SI.appweb,title,desc);\n        }\n        else if(cc.sys.os == cc.sys.OS_IOS){\n            jsb.reflection.callStaticMethod(this.IOS_API, \"sharetimeline:shareTitle:shareDesc:\",cc.vv.SI.appweb,title,desc);\n        }\n        else{\n            console.log(\"platform:\" + cc.sys.os + \" dosn't implement share.\");\n        }\n    },\n    \n    copy:function (desc) {\n        if(cc.sys.os == cc.sys.OS_ANDROID){\n            jsb.reflection.callStaticMethod(this.ANDROID_WEBPAGE_API, \"Copy\", \"(Ljava/lang/String;)V\",desc);\n        }\n        else if(cc.sys.os == cc.sys.OS_IOS){\n            jsb.reflection.callStaticMethod(this.IOS_API, \"copy:\",desc);\n        }\n        else{\n            console.log(\"platform:\" + cc.sys.os + \" dosn't implement share.\");\n        }\n    },\n    \n    shareResult:function(){\n        if(this._isCapturing){\n            return;\n        }\n        this._isCapturing = true;\n        var size = cc.director.getWinSize();\n        var currentDate = new Date();\n        var fileName = \"result_share.jpg\";\n        var fullPath = jsb.fileUtils.getWritablePath() + fileName;\n        if(jsb.fileUtils.isFileExist(fullPath)){\n            jsb.fileUtils.removeFile(fullPath);\n        }\n        var texture = new cc.RenderTexture(Math.floor(size.width), Math.floor(size.height));\n        texture.setPosition(cc.p(size.width/2, size.height/2));\n        texture.begin();\n        cc.director.getRunningScene().visit();\n        texture.end();\n        texture.saveToFile(fileName, cc.IMAGE_FORMAT_JPG);\n        \n        var self = this;\n        var tryTimes = 0;\n        var fn = function(){\n            if(jsb.fileUtils.isFileExist(fullPath)){\n                var height = 100;\n                var scale = height/size.height;\n\t\t\t    var width = Math.floor(size.width * scale);\n                \n                if(cc.sys.os == cc.sys.OS_ANDROID){\n                    jsb.reflection.callStaticMethod(self.ANDROID_API, \"ShareIMG\", \"(Ljava/lang/String;II)V\",fullPath,width,height);\n                }\n                else if(cc.sys.os == cc.sys.OS_IOS){\n                    jsb.reflection.callStaticMethod(self.IOS_API, \"shareIMG:width:height:\",fullPath,width,height);\n                }\n                else{\n                    console.log(\"platform:\" + cc.sys.os + \" dosn't implement share.\");\n                }\n                self._isCapturing = false;\n            }\n            else{\n                tryTimes++;\n                if(tryTimes > 10){\n                    console.log(\"time out...\");\n                    return;\n                }\n                setTimeout(fn,50); \n            }\n        }\n        setTimeout(fn,50);\n    },\n    \n    onLoginResp:function(code){\n        var fn = function(ret){\n            if(ret.errcode == 0){\n                cc.sys.localStorage.setItem(\"wx_account\",ret.account);\n                cc.sys.localStorage.setItem(\"wx_sign\",ret.sign);\n            }\n            cc.vv.userMgr.onAuth(ret);\n        }\n        cc.vv.http.sendRequest(\"/wechat_auth\",{code:code,os:cc.sys.os},fn);\n    },\n});\n"
  ]
}