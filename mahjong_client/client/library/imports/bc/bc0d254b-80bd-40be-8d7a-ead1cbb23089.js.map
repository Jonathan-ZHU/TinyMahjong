{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //    default: null,\n        //    url: cc.Texture2D,  // optional, default is typeof default\n        //    serializable: true, // optional, default is true\n        //    visible: true,      // optional, default is true\n        //    displayName: 'Foo', // optional\n        //    readonly: false,    // optional, default is false\n        // },\n        // ...\n        _popuproot:null,\n        _settings:null,\n        _dissolveNotice:null,\n        \n        _endTime:-1,\n        _extraInfo:null,\n        _noticeLabel:null,\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        if(cc.vv == null){\n            return;\n        }\n        \n        cc.vv.popupMgr = this;\n        \n        this._popuproot = cc.find(\"Canvas/popups\");\n        this._settings = cc.find(\"Canvas/popups/settings\");\n        this._dissolveNotice = cc.find(\"Canvas/popups/dissolve_notice\");\n        this._noticeLabel = this._dissolveNotice.getChildByName(\"info\").getComponent(cc.Label);\n        \n        this.closeAll();\n        \n        this.addBtnHandler(\"settings/btn_close\");\n        this.addBtnHandler(\"settings/btn_sqjsfj\");\n        this.addBtnHandler(\"dissolve_notice/btn_agree\");\n        this.addBtnHandler(\"dissolve_notice/btn_reject\");\n        this.addBtnHandler(\"dissolve_notice/btn_ok\");\n        \n        var self = this;\n        this.node.on(\"dissolve_notice\",function(event){\n            var data = event.detail;\n            self.showDissolveNotice(data);\n        });\n        \n        this.node.on(\"dissolve_cancel\",function(event){\n            self.closeAll();\n        });\n    },\n    \n    start:function(){\n        if(cc.vv.gameNetMgr.dissoveData){\n            this.showDissolveNotice(cc.vv.gameNetMgr.dissoveData);\n        }\n    },\n    \n    addBtnHandler:function(btnName){\n        var btn = cc.find(\"Canvas/popups/\" + btnName);\n        this.addClickEvent(btn,this.node,\"PopupMgr\",\"onBtnClicked\");\n    },\n    \n    addClickEvent:function(node,target,component,handler){\n        var eventHandler = new cc.Component.EventHandler();\n        eventHandler.target = target;\n        eventHandler.component = component;\n        eventHandler.handler = handler;\n\n        var clickEvents = node.getComponent(cc.Button).clickEvents;\n        clickEvents.push(eventHandler);\n    },\n    \n    onBtnClicked:function(event){\n        this.closeAll();\n        var btnName = event.target.name;\n        if(btnName == \"btn_agree\"){\n            cc.vv.net.send(\"dissolve_agree\");\n        }\n        else if(btnName == \"btn_reject\"){\n            cc.vv.net.send(\"dissolve_reject\");\n        }\n        else if(btnName == \"btn_sqjsfj\"){\n            cc.vv.net.send(\"dissolve_request\"); \n        }\n    },\n    \n    closeAll:function(){\n        this._popuproot.active = false;\n        this._settings.active = false;\n        this._dissolveNotice.active = false;\n    },\n    \n    showSettings:function(){\n        this.closeAll();\n        this._popuproot.active = true;\n        this._settings.active = true;\n    },\n    \n    showDissolveRequest:function(){\n        this.closeAll();\n        this._popuproot.active = true;\n    },\n    \n    showDissolveNotice:function(data){\n        this._endTime = Date.now()/1000 + data.time;\n        this._extraInfo = \"\";\n        for(var i = 0; i < data.states.length; ++i){\n            var b = data.states[i];\n            var name = cc.vv.gameNetMgr.seats[i].name;\n            if(b){\n                this._extraInfo += \"\\n[已同意] \"+ name;\n            }\n            else{\n                this._extraInfo += \"\\n[待确认] \"+ name;\n            }\n        }\n        this.closeAll();\n        this._popuproot.active = true;\n        this._dissolveNotice.active = true;;\n    },\n    \n    // called every frame, uncomment this function to activate update callback\n    update: function (dt) {\n        if(this._endTime > 0){\n            var lastTime = this._endTime - Date.now() / 1000;\n            if(lastTime < 0){\n                this._endTime = -1;\n            }\n            \n            var m = Math.floor(lastTime / 60);\n            var s = Math.ceil(lastTime - m*60);\n            \n            var str = \"\";\n            if(m > 0){\n                str += m + \"分\"; \n            }\n            \n            this._noticeLabel.string = str + s + \"秒后房间将自动解散\" + this._extraInfo;\n        }\n    },\n});\n"
  ]
}