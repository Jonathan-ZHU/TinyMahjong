{"version":3,"sources":["assets/scripts/components/UserInfoShow.js"],"names":["cc","Class","extends","Component","properties","_userinfo","onLoad","vv","find","active","utils","addClickEvent","node","userinfoShow","show","name","userId","iconSprite","sex","ip","getChildByName","getComponent","Sprite","spriteFrame","Label","string","replace","sex_female","sex_male","onClicked"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,mBAAU;AAXF,KAHP;;AAiBL;AACAC,YAAQ,kBAAY;AAChB,YAAGN,GAAGO,EAAH,IAAS,IAAZ,EAAiB;AACb;AACH;;AAED,aAAKF,SAAL,GAAiBL,GAAGQ,IAAH,CAAQ,iBAAR,CAAjB;AACA,aAAKH,SAAL,CAAeI,MAAf,GAAwB,KAAxB;AACAT,WAAGO,EAAH,CAAMG,KAAN,CAAYC,aAAZ,CAA0B,KAAKN,SAA/B,EAAyC,KAAKO,IAA9C,EAAmD,cAAnD,EAAkE,WAAlE;;AAEAZ,WAAGO,EAAH,CAAMM,YAAN,GAAqB,IAArB;AACH,KA5BI;;AA8BLC,UAAK,cAASC,IAAT,EAAcC,MAAd,EAAqBC,UAArB,EAAgCC,GAAhC,EAAoCC,EAApC,EAAuC;AACxC,YAAGH,UAAU,IAAV,IAAkBA,SAAS,CAA9B,EAAgC;AAC5B,iBAAKX,SAAL,CAAeI,MAAf,GAAwB,IAAxB;AACA,iBAAKJ,SAAL,CAAee,cAAf,CAA8B,MAA9B,EAAsCC,YAAtC,CAAmDrB,GAAGsB,MAAtD,EAA8DC,WAA9D,GAA4EN,WAAWM,WAAvF;AACA,iBAAKlB,SAAL,CAAee,cAAf,CAA8B,MAA9B,EAAsCC,YAAtC,CAAmDrB,GAAGwB,KAAtD,EAA6DC,MAA7D,GAAsEV,IAAtE;AACA,iBAAKV,SAAL,CAAee,cAAf,CAA8B,IAA9B,EAAoCC,YAApC,CAAiDrB,GAAGwB,KAApD,EAA2DC,MAA3D,GAAoE,SAASN,GAAGO,OAAH,CAAW,SAAX,EAAqB,EAArB,CAA7E;AACA,iBAAKrB,SAAL,CAAee,cAAf,CAA8B,IAA9B,EAAoCC,YAApC,CAAiDrB,GAAGwB,KAApD,EAA2DC,MAA3D,GAAoE,SAAST,MAA7E;;AAEA,gBAAIW,aAAa,KAAKtB,SAAL,CAAee,cAAf,CAA8B,YAA9B,CAAjB;AACAO,uBAAWlB,MAAX,GAAoB,KAApB;;AAEA,gBAAImB,WAAW,KAAKvB,SAAL,CAAee,cAAf,CAA8B,UAA9B,CAAf;AACAQ,qBAASnB,MAAT,GAAkB,KAAlB;;AAEA,gBAAGS,OAAO,CAAV,EAAY;AACRU,yBAASnB,MAAT,GAAkB,IAAlB;AACH,aAFD,MAGK,IAAGS,OAAO,CAAV,EAAY;AACbS,2BAAWlB,MAAX,GAAoB,IAApB;AACH;AACJ;AACJ,KAnDI;;AAqDLoB,eAAU,qBAAU;AAChB,aAAKxB,SAAL,CAAeI,MAAf,GAAwB,KAAxB;AACH;;AAED;AACA;;AAEA;AA5DK,CAAT","file":"unknown","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //    default: null,      // The default value will be used only when the component attaching\n        //                           to a node for the first time\n        //    url: cc.Texture2D,  // optional, default is typeof default\n        //    serializable: true, // optional, default is true\n        //    visible: true,      // optional, default is true\n        //    displayName: 'Foo', // optional\n        //    readonly: false,    // optional, default is false\n        // },\n        // ...\n        _userinfo:null,\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        if(cc.vv == null){\n            return;\n        }\n        \n        this._userinfo = cc.find(\"Canvas/userinfo\");\n        this._userinfo.active = false;\n        cc.vv.utils.addClickEvent(this._userinfo,this.node,\"UserInfoShow\",\"onClicked\");\n        \n        cc.vv.userinfoShow = this;\n    },\n    \n    show:function(name,userId,iconSprite,sex,ip){\n        if(userId != null && userId > 0){\n            this._userinfo.active = true;\n            this._userinfo.getChildByName(\"icon\").getComponent(cc.Sprite).spriteFrame = iconSprite.spriteFrame;\n            this._userinfo.getChildByName(\"name\").getComponent(cc.Label).string = name;\n            this._userinfo.getChildByName(\"ip\").getComponent(cc.Label).string = \"IP: \" + ip.replace(\"::ffff:\",\"\");\n            this._userinfo.getChildByName(\"id\").getComponent(cc.Label).string = \"ID: \" + userId;\n            \n            var sex_female = this._userinfo.getChildByName(\"sex_female\");\n            sex_female.active = false;\n            \n            var sex_male = this._userinfo.getChildByName(\"sex_male\");\n            sex_male.active = false;\n            \n            if(sex == 1){\n                sex_male.active = true;\n            }   \n            else if(sex == 2){\n                sex_female.active = true;\n            }\n        }\n    },\n    \n    onClicked:function(){\n        this._userinfo.active = false;\n    }\n\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n\n    // },\n});\n"]}