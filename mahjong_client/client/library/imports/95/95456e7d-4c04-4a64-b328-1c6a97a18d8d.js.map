{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "dataEventHandler",
    "roomId",
    "maxNumOfGames",
    "numOfGames",
    "numOfMJ",
    "seatIndex",
    "seats",
    "turn",
    "button",
    "dingque",
    "chupai",
    "isDingQueing",
    "isHuanSanZhang",
    "gamestate",
    "isOver",
    "dissoveData",
    "fengxiang",
    "reset",
    "curaction",
    "i",
    "length",
    "holds",
    "folds",
    "pengs",
    "chis",
    "huas",
    "angangs",
    "diangangs",
    "wangangs",
    "ready",
    "hued",
    "huanpais",
    "huanpaimethod",
    "clear",
    "dispatchEvent",
    "event",
    "data",
    "emit",
    "getSeatIndexByID",
    "userId",
    "s",
    "userid",
    "isOwner",
    "getSeatByID",
    "seat",
    "getSelfData",
    "getLocalIndex",
    "index",
    "ret",
    "prepareReplay",
    "roomInfo",
    "detailOfGame",
    "id",
    "base_info",
    "baseInfo",
    "seatindex",
    "score",
    "game_seats",
    "console",
    "log",
    "vv",
    "userMgr",
    "conf",
    "type",
    "getWanfa",
    "maxGames",
    "maxFan",
    "strArr",
    "koufei",
    "push",
    "hongzhongdanghua",
    "quanshu",
    "jiesuan",
    "join",
    "initHandlers",
    "self",
    "net",
    "addHandler",
    "errcode",
    "roomid",
    "numofgames",
    "errmsg",
    "director",
    "loadScene",
    "name",
    "oldRoomId",
    "online",
    "numofmj",
    "state",
    "chuPai",
    "sd",
    "que",
    "iszimo",
    "huinfo",
    "turnUserID",
    "si",
    "doTurnChange",
    "results",
    "totalscore",
    "endinfo",
    "doHu",
    "pai",
    "doChupai",
    "doMopai",
    "doGuo",
    "info",
    "time",
    "method",
    "gameNetMgr",
    "doPeng",
    "doGang",
    "gangtype",
    "chigroup",
    "doChi",
    "doHua",
    "buhuas",
    "doBuhua",
    "doBuhuaforme",
    "seatData",
    "idx",
    "indexOf",
    "splice",
    "undefined",
    "getGangType",
    "cnt",
    "last",
    "connectGameServer",
    "ip",
    "port",
    "onConnectOK",
    "token",
    "sign",
    "send",
    "onConnectFailed",
    "wc",
    "hide",
    "show",
    "connect"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        dataEventHandler:null,\r\n        roomId:null,\r\n        maxNumOfGames:-1,\r\n        numOfGames:-1,\r\n        numOfMJ:0,\r\n        seatIndex:-1,\r\n        seats:null,\r\n        turn:-1,\r\n        button:-1,\r\n        dingque:-1,\r\n        chupai:-1,\r\n        isDingQueing:false,\r\n        isHuanSanZhang:false,\r\n        gamestate:\"\",\r\n        isOver:false,\r\n        dissoveData:null,\r\n        \r\n        //舟山麻将额外属性\r\n        fengxiang:null,\r\n        \r\n        \r\n        // foo: {\r\n        //    default: null,\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n    },\r\n    \r\n    reset:function(){\r\n        this.turn = -1;\r\n        this.chupai = -1,\r\n        this.dingque = -1;\r\n        this.button = -1;\r\n        this.gamestate = \"\";\r\n        this.dingque = -1;\r\n        this.isDingQueing = false;\r\n        this.isHuanSanZhang = false;\r\n        this.curaction = null;\r\n        for(var i = 0; i < this.seats.length; ++i){\r\n            this.seats[i].holds = [];\r\n            this.seats[i].folds = [];\r\n            this.seats[i].pengs = [];\r\n            this.seats[i].chis = [];\r\n            this.seats[i].huas = [];\r\n            this.seats[i].angangs = [];\r\n            this.seats[i].diangangs = [];\r\n            this.seats[i].wangangs = [];\r\n            this.seats[i].dingque = -1;\r\n            this.seats[i].ready = false;\r\n            this.seats[i].hued = false;\r\n            this.seats[i].huanpais = null;\r\n            this.huanpaimethod = -1;\r\n        }\r\n    },\r\n    \r\n    clear:function(){\r\n        this.dataEventHandler = null;\r\n        if(this.isOver == null){\r\n            this.seats = null;\r\n            this.roomId = null;\r\n            this.maxNumOfGames = 0;\r\n            this.numOfGames = 0; \r\n        }\r\n    },\r\n    \r\n    dispatchEvent(event,data){\r\n        if(this.dataEventHandler){\r\n            this.dataEventHandler.emit(event,data);\r\n        }    \r\n    },\r\n    \r\n    getSeatIndexByID:function(userId){\r\n        for(var i = 0; i < this.seats.length; ++i){\r\n            var s = this.seats[i];\r\n            if(s.userid == userId){\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    },\r\n    \r\n    isOwner:function(){\r\n        return this.seatIndex == 0;   \r\n    },\r\n    \r\n    getSeatByID:function(userId){\r\n        var seatIndex = this.getSeatIndexByID(userId);\r\n        var seat = this.seats[seatIndex];\r\n        return seat;\r\n    },\r\n    \r\n    getSelfData:function(){\r\n        return this.seats[this.seatIndex];\r\n    },\r\n    \r\n    getLocalIndex:function(index){\r\n        var ret = (index - this.seatIndex + 4) % 4;\r\n        return ret;\r\n    },\r\n    \r\n    prepareReplay:function(roomInfo,detailOfGame){\r\n        this.roomId = roomInfo.id;\r\n        this.seats = roomInfo.seats;\r\n        this.turn = detailOfGame.base_info.button;\r\n        var baseInfo = detailOfGame.base_info;\r\n        for(var i = 0; i < this.seats.length; ++i){\r\n            var s = this.seats[i];\r\n            s.seatindex = i;\r\n            s.score = null;\r\n            s.holds = baseInfo.game_seats[i];\r\n            s.pengs = [];\r\n            s.chis = [];\r\n            s.huas = [];\r\n            s.angangs = [];\r\n            s.diangangs = [];\r\n            s.wangangs = [];\r\n            s.folds = [];\r\n            console.log(s);\r\n            if(cc.vv.userMgr.userId == s.userid){\r\n                this.seatIndex = i;\r\n            }\r\n        }\r\n        this.conf = {\r\n            type:baseInfo.type,\r\n        }\r\n        if(this.conf.type == null){\r\n            this.conf.type == \"sjmmmj\";\r\n        }\r\n    },\r\n    \r\n    getWanfa:function(){\r\n        var conf = this.conf;\r\n        if(conf && conf.maxGames!=null && conf.maxFan!=null){\r\n            var strArr = [];\r\n            // strArr.push(conf.maxGames + \"局\");\r\n            // strArr.push(conf.maxFan + \"番封顶\");\r\n            if (conf.type == \"sjmmj\") {\r\n                (conf.koufei == 0) ? strArr.push(\"房主出资\") : strArr.push(\"玩家平分\") ;\r\n                (conf.hongzhongdanghua) ? strArr.push(\"红中当花\") : {} ;\r\n                (conf.quanshu == 0) ? strArr.push(\"8局\") : strArr.push(\"一圈\") ;\r\n                if (conf.jiesuan == 0) strArr.push(\"幺半\");\r\n                else if (conf.jiesuan == 1) strArr.push(\"一二\");\r\n                else if (conf.jiesuan == 2) strArr.push(\"二四\");\r\n            }else if (conf.type == \"dhmj\") {\r\n                (conf.koufei == 0) ? strArr.push(\"房主出资\") : strArr.push(\"玩家平分\") ;\r\n                (conf.quanshu == 0) ? strArr.push(\"8局\") : strArr.push(\"一圈\") ;\r\n                if (conf.jiesuan == 0) strArr.push(\"10\");\r\n                else if (conf.jiesuan == 1) strArr.push(\"25\");\r\n                else if (conf.jiesuan == 2) strArr.push(\"50\");\r\n                else if (conf.jiesuan == 3) strArr.push(\"120\");\r\n            }else if (conf.type == \"tdh\") {\r\n                (conf.koufei == 0) ? strArr.push(\"房主出资\") : strArr.push(\"玩家平分\") ;\r\n                (conf.quanshu == 0) ? strArr.push(\"8局\") : strArr.push(\"一圈\") ;\r\n                if (conf.jiesuan == 0) strArr.push(\"有花\");\r\n            }\r\n            // if(conf.zimo == 1){\r\n            //     strArr.push(\"自摸加番\");\r\n            // }\r\n            // else{\r\n            //     strArr.push(\"自摸加底\");\r\n            // }\r\n            // if(conf.jiangdui){\r\n            //     strArr.push(\"将对\");   \r\n            // }\r\n            // if(conf.dianganghua == 1){\r\n            //     strArr.push(\"点杠花(自摸)\");   \r\n            // }\r\n            // else{\r\n            //     strArr.push(\"点杠花(放炮)\");\r\n            // }\r\n            // if(conf.menqing){\r\n            //     strArr.push(\"门清、中张\");   \r\n            // }\r\n            // if(conf.tiandihu){\r\n            //     strArr.push(\"天地胡\");   \r\n            // }\r\n            return strArr.join(\" \");\r\n        }\r\n        return \"\";\r\n    },\r\n    \r\n    initHandlers:function(){\r\n        var self = this;\r\n        cc.vv.net.addHandler(\"login_result\",function(data){\r\n            console.log(\"login_result\");\r\n            console.log(data);\r\n            if(data.errcode === 0){\r\n                var data = data.data;\r\n                self.roomId = data.roomid;\r\n                self.conf = data.conf;\r\n                self.maxNumOfGames = data.conf.maxGames;\r\n                self.numOfGames = data.numofgames;\r\n                self.fengxiang = data.fengxiang;\r\n                self.seats = data.seats;\r\n                self.seatIndex = self.getSeatIndexByID(cc.vv.userMgr.userId);\r\n                self.isOver = false;\r\n            }\r\n            else{\r\n                console.log(data.errmsg);   \r\n            }\r\n        });\r\n                \r\n        cc.vv.net.addHandler(\"login_finished\",function(data){\r\n            console.log(\"login_finished\");\r\n            cc.director.loadScene(\"mjgame\");\r\n        });\r\n\r\n        cc.vv.net.addHandler(\"exit_result\",function(data){\r\n            self.roomId = null;\r\n            self.turn = -1;\r\n            self.dingque = -1;\r\n            self.isDingQueing = false;\r\n            self.seats = null;\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"exit_notify_push\",function(data){\r\n           var userId = data;\r\n           var s = self.getSeatByID(userId);\r\n           if(s != null){\r\n               s.userid = 0;\r\n               s.name = \"\";\r\n               self.dispatchEvent(\"user_state_changed\",s);\r\n           }\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"dispress_push\",function(data){\r\n            self.roomId = null;\r\n            self.turn = -1;\r\n            self.dingque = -1;\r\n            self.isDingQueing = false;\r\n            self.seats = null;\r\n        });\r\n                \r\n        cc.vv.net.addHandler(\"disconnect\",function(data){\r\n            if(self.roomId == null){\r\n                cc.director.loadScene(\"hall\");\r\n            }\r\n            else{\r\n                if(self.isOver == false){\r\n                    cc.vv.userMgr.oldRoomId = self.roomId;\r\n                    self.dispatchEvent(\"disconnect\");                    \r\n                }\r\n                else{\r\n                    self.roomId = null;\r\n                }\r\n            }\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"new_user_comes_push\",function(data){\r\n            //console.log(data);\r\n            var seatIndex = data.seatindex;\r\n            if(self.seats[seatIndex].userid > 0){\r\n                self.seats[seatIndex].online = true;\r\n            }\r\n            else{\r\n                data.online = true;\r\n                self.seats[seatIndex] = data;\r\n            }\r\n            self.dispatchEvent('new_user',self.seats[seatIndex]);\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"user_state_push\",function(data){\r\n            //console.log(data);\r\n            var userId = data.userid;\r\n            var seat = self.getSeatByID(userId);\r\n            seat.online = data.online;\r\n            self.dispatchEvent('user_state_changed',seat);\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"user_ready_push\",function(data){\r\n            //console.log(data);\r\n            var userId = data.userid;\r\n            var seat = self.getSeatByID(userId);\r\n            seat.ready = data.ready;\r\n            self.dispatchEvent('user_state_changed',seat);\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"game_holds_push\",function(data){\r\n            var seat = self.seats[self.seatIndex]; \r\n            console.log(data);\r\n            seat.holds = data;\r\n            \r\n            for(var i = 0; i < self.seats.length; ++i){\r\n                var s = self.seats[i]; \r\n                if(s.folds == null){\r\n                    s.folds = [];\r\n                }\r\n                if(s.pengs == null){\r\n                    s.pengs = [];\r\n                }\r\n                if(s.angangs == null){\r\n                    s.angangs = [];\r\n                }\r\n                if(s.diangangs == null){\r\n                    s.diangangs = [];\r\n                }\r\n                if(s.chis == null){\r\n                    s.chis = [];\r\n                }\r\n                if(s.huas == null){\r\n                    s.huas = [];\r\n                }\r\n                if(s.wangangs == null){\r\n                    s.wangangs = [];\r\n                }\r\n                s.ready = false;\r\n            }\r\n            self.dispatchEvent('game_holds');\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"game_feng_push\",function(data){\r\n            self.fengxiang = data;\r\n            self.dispatchEvent('game_feng');\r\n        });\r\n        \r\n         \r\n        cc.vv.net.addHandler(\"game_begin_push\",function(data){\r\n            console.log('game_action_push');\r\n            console.log(data);\r\n            self.button = data;\r\n            self.turn = self.button;\r\n            self.gamestate = \"begin\";\r\n            self.dispatchEvent('game_begin');\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"game_playing_push\",function(data){\r\n            console.log('game_playing_push'); \r\n            self.gamestate = \"playing\"; \r\n            self.dispatchEvent('game_playing');\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"game_sync_push\",function(data){\r\n            console.log(\"game_sync_push\");\r\n            console.log(data);\r\n            self.numOfMJ = data.numofmj;\r\n            self.gamestate = data.state;\r\n            self.fengxiang = data.fengxiang;\r\n            if(self.gamestate == \"dingque\"){\r\n                self.isDingQueing = true;\r\n            }\r\n            else if(self.gamestate == \"huanpai\"){\r\n                self.isHuanSanZhang = true;\r\n            }\r\n            self.turn = data.turn;\r\n            self.button = data.button;\r\n            self.chupai = data.chuPai;\r\n            self.huanpaimethod = data.huanpaimethod;\r\n            for(var i = 0; i < 4; ++i){\r\n                var seat = self.seats[i];\r\n                var sd = data.seats[i];\r\n                seat.holds = sd.holds;\r\n                seat.folds = sd.folds;\r\n                seat.angangs = sd.angangs;\r\n                seat.diangangs = sd.diangangs;\r\n                seat.wangangs = sd.wangangs;\r\n                seat.pengs = sd.pengs;\r\n                seat.chis = sd.chis;\r\n                seat.huas = sd.huas;\r\n                seat.dingque = sd.que;\r\n                seat.hued = sd.hued; \r\n                seat.iszimo = sd.iszimo;\r\n                seat.huinfo = sd.huinfo;\r\n                seat.huanpais = sd.huanpais;\r\n                if(i == self.seatIndex){\r\n                    self.dingque = sd.que;\r\n                }\r\n           }\r\n        });\r\n        \r\n        \r\n        cc.vv.net.addHandler(\"game_huanpai_push\",function(data){\r\n            self.isHuanSanZhang = true;\r\n            self.dispatchEvent('game_huanpai');\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"hangang_notify_push\",function(data){\r\n            self.dispatchEvent('hangang_notify',data);\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"game_action_push\",function(data){\r\n            self.curaction = data;\r\n            console.log(data);\r\n            self.dispatchEvent('game_action',data);\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"game_chupai_push\",function(data){\r\n            console.log('game_chupai_push');\r\n            //console.log(data);\r\n            var turnUserID = data;\r\n            var si = self.getSeatIndexByID(turnUserID);\r\n            self.doTurnChange(si);\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"game_num_push\",function(data){\r\n            self.numOfGames = data;\r\n            self.dispatchEvent('game_num',data);\r\n        });\r\n\r\n        cc.vv.net.addHandler(\"game_over_push\",function(data){\r\n            console.log('game_over_push');\r\n            console.log(data);\r\n            var results = data.results;\r\n            for(var i = 0; i < self.seats.length; ++i){\r\n                self.seats[i].score = results.length == 0? 0:results[i].totalscore;\r\n            }\r\n            self.dispatchEvent('game_over',results);\r\n            if(data.endinfo){\r\n                self.isOver = true;\r\n                self.dispatchEvent('game_end',data.endinfo);    \r\n            }\r\n            self.reset();\r\n            for(var i = 0; i <  self.seats.length; ++i){\r\n                self.dispatchEvent('user_state_changed',self.seats[i]);    \r\n            }\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"mj_count_push\",function(data){\r\n            console.log('mj_count_push');\r\n            self.numOfMJ = data;\r\n            //console.log(data);\r\n            self.dispatchEvent('mj_count',data);\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"hu_push\",function(data){\r\n            console.log('hu_push');\r\n            console.log(data);\r\n            self.doHu(data);\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"game_chupai_notify_push\",function(data){\r\n            var userId = data.userId;\r\n            var pai = data.pai;\r\n            var si = self.getSeatIndexByID(userId);\r\n            self.doChupai(si,pai);\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"game_mopai_push\",function(data){\r\n            console.log('game_mopai_push');\r\n            self.doMopai(self.seatIndex,data);\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"guo_notify_push\",function(data){\r\n            console.log('guo_notify_push');\r\n            var userId = data.userId;\r\n            var pai = data.pai;\r\n            var si = self.getSeatIndexByID(userId);\r\n            self.doGuo(si,pai);\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"guo_result\",function(data){\r\n            console.log('guo_result');\r\n            self.dispatchEvent('guo_result');\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"guohu_push\",function(data){\r\n            console.log('guohu_push');\r\n            self.dispatchEvent(\"push_notice\",{info:\"过胡\",time:1.5});\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"huanpai_notify\",function(data){\r\n            var seat = self.getSeatByID(data.si);\r\n            seat.huanpais = data.huanpais;\r\n            self.dispatchEvent('huanpai_notify',seat);\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"game_huanpai_over_push\",function(data){\r\n            console.log('game_huanpai_over_push');\r\n            var info = \"\";\r\n            var method = data.method;\r\n            if(method == 0){\r\n                info = \"换对家牌\";\r\n            }\r\n            else if(method == 1){\r\n                info = \"换下家牌\";\r\n            }\r\n            else{\r\n                info = \"换上家牌\";\r\n            }\r\n            self.huanpaimethod = method;\r\n            cc.vv.gameNetMgr.isHuanSanZhang = false;\r\n            self.dispatchEvent(\"game_huanpai_over\");\r\n            self.dispatchEvent(\"push_notice\",{info:info,time:2});\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"peng_notify_push\",function(data){\r\n            console.log('peng_notify_push');\r\n            console.log(data);\r\n            var userId = data.userid;\r\n            var pai = data.pai;\r\n            var si = self.getSeatIndexByID(userId);\r\n            self.doPeng(si,data.pai);\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"gang_notify_push\",function(data){\r\n            console.log('gang_notify_push');\r\n            console.log(data);\r\n            var userId = data.userid;\r\n            var pai = data.pai;\r\n            var si = self.getSeatIndexByID(userId);\r\n            self.doGang(si,pai,data.gangtype);\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"chi_notify_push\",function(data){\r\n            console.log('chi_notify_push');\r\n            console.log(data);\r\n            var userId = data.userid;\r\n            var pai = data.pai;\r\n            var chigroup = data.chigroup;\r\n            var si = self.getSeatIndexByID(userId);\r\n            self.doChi(si,data.pai,chigroup);\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"gethua_notify_push\",function(data){\r\n            console.log('gethua_notify_push');\r\n            var userId = data.userid;\r\n            var pai = data.pai;\r\n            var si = self.getSeatIndexByID(userId);\r\n            self.doHua(si,data.pai);\r\n        });\r\n        \r\n        //开局补花侦听 全局\r\n        cc.vv.net.addHandler(\"buhua_notify_push\",function(data){\r\n            console.log('buhua_notify_push');\r\n            var userId = data.userid;\r\n            var buhuas = data.buhuas;\r\n            var si = self.getSeatIndexByID(userId);\r\n            self.doBuhua(si,buhuas);\r\n        });\r\n        \r\n        //开局补花侦听 自己\r\n        cc.vv.net.addHandler(\"game_buhua_push\",function(data){\r\n            console.log('game_buhua_push');\r\n            var userId = data.userid;\r\n            var holds = data.holds;\r\n            var buhuas = data.buhuas;\r\n            var si = self.getSeatIndexByID(userId);\r\n            self.doBuhuaforme(si,holds,buhuas);\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"game_dingque_notify_push\",function(data){\r\n            self.dispatchEvent('game_dingque_notify',data);\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"game_dingque_finish_push\",function(data){\r\n            for(var i = 0; i < data.length; ++i){\r\n                self.seats[i].dingque = data[i];\r\n            }\r\n            self.dispatchEvent('game_dingque_finish',data);\r\n        });\r\n        \r\n        \r\n        cc.vv.net.addHandler(\"chat_push\",function(data){\r\n            self.dispatchEvent(\"chat_push\",data);    \r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"quick_chat_push\",function(data){\r\n            self.dispatchEvent(\"quick_chat_push\",data);\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"emoji_push\",function(data){\r\n            self.dispatchEvent(\"emoji_push\",data);\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"dissolve_notice_push\",function(data){\r\n            console.log(\"dissolve_notice_push\"); \r\n            console.log(data);\r\n            self.dissoveData = data;\r\n            self.dispatchEvent(\"dissolve_notice\",data);\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"dissolve_cancel_push\",function(data){\r\n            self.dissoveData = null;\r\n            self.dispatchEvent(\"dissolve_cancel\",data);\r\n        });\r\n        \r\n        cc.vv.net.addHandler(\"voice_msg_push\",function(data){\r\n            self.dispatchEvent(\"voice_msg\",data);\r\n        });\r\n    },\r\n    \r\n    doGuo:function(seatIndex,pai){\r\n        var seatData = this.seats[seatIndex];\r\n        var folds = seatData.folds;\r\n        folds.push(pai);\r\n        this.dispatchEvent('guo_notify',seatData);    \r\n    },\r\n    \r\n    doMopai:function(seatIndex,pai){\r\n        var seatData = this.seats[seatIndex];\r\n        if(seatData.holds){\r\n            seatData.holds.push(pai);\r\n            this.dispatchEvent('game_mopai',{seatIndex:seatIndex,pai:pai});            \r\n        }\r\n    },\r\n    \r\n    doChupai:function(seatIndex,pai){\r\n        this.chupai = pai;\r\n        var seatData = this.seats[seatIndex];\r\n        if(seatData.holds){             \r\n            var idx = seatData.holds.indexOf(pai);\r\n            seatData.holds.splice(idx,1);\r\n        }\r\n        this.dispatchEvent('game_chupai_notify',{seatData:seatData,pai:pai});    \r\n    },\r\n    \r\n    doPeng:function(seatIndex,pai){\r\n        console.log(seatIndex);\r\n        var seatData = this.seats[seatIndex];\r\n        console.log(this.seats[seatIndex]);\r\n        console.log(this.seats[0]);\r\n        console.log(this.seats[\"0\"]);\r\n        console.log(seatData);\r\n        console.log(seatData.huas);\r\n        console.log(seatData.userid);\r\n        //移除手牌\r\n        if(seatData.holds){\r\n            for(var i = 0; i < 2; ++i){\r\n                var idx = seatData.holds.indexOf(pai);\r\n                seatData.holds.splice(idx,1);\r\n            }                \r\n        }\r\n            \r\n        //更新碰牌数据\r\n        var pengs = seatData.pengs;\r\n        pengs.push(pai);\r\n            \r\n        this.dispatchEvent('peng_notify',seatData);\r\n    },\r\n    \r\n    doChi:function(seatIndex,pai,chigroup){\r\n        console.log(\"dochi\");\r\n        var seatData = this.seats[seatIndex];\r\n        console.log(seatData);\r\n        //移除手牌\r\n        if(seatData.holds){\r\n            for(var i = 0; i < 3; ++i){\r\n                if(pai == chigroup[i]) continue;\r\n                var idx = seatData.holds.indexOf(chigroup[i]);\r\n                seatData.holds.splice(idx,1);\r\n            }                \r\n        }\r\n            \r\n        //更新吃牌数据\r\n        var chis = seatData.chis;\r\n        chis.push(chigroup);\r\n            \r\n        this.dispatchEvent('chi_notify',seatData);\r\n    },\r\n    \r\n    doHua:function(seatIndex,pai){\r\n        var seatData = this.seats[seatIndex];\r\n        //更新花牌数据\r\n        if(seatData.huas == undefined || seatData.huas == null) {\r\n            seatData.huas = [];\r\n        }\r\n        var huas = seatData.huas;\r\n        huas.push(pai);\r\n        this.dispatchEvent('gethua_notify',seatData);\r\n    },\r\n    \r\n    doBuhua:function(seatIndex,buhuas){\r\n        console.log(\"da buhua\");\r\n         var seatData = this.seats[seatIndex];\r\n        //更新花牌数据\r\n        if(seatData.huas == undefined || seatData.huas == null) {\r\n            seatData.huas = [];\r\n        }\r\n        var huas = seatData.huas;\r\n        for(var i = 0; i < buhuas.length ; i++){\r\n            huas.push(buhuas[i]);\r\n        }\r\n        this.dispatchEvent('gethua_notify',seatData);\r\n    },\r\n    \r\n    doBuhuaforme:function(seatIndex,holds,buhuas){\r\n        console.log(\"da buhua\");\r\n        var seatData = this.seats[seatIndex];\r\n        // for(var i=0 ; i < holds.length ; i++) {\r\n        //     seatData.holds.push(holds[i]);\r\n        // }\r\n        // for(var i=0 ; i < buhuas.length ; i++) {\r\n        //     var idx = seatData.holds.indexOf(buhuas[i]);\r\n        //     seatData.holds.splice(idx,1);\r\n        // }\r\n        seatData.holds = holds;\r\n        this.dispatchEvent('buhua_notify',seatData);\r\n    },\r\n    \r\n    getGangType:function(seatData,pai){\r\n        if(seatData.pengs.indexOf(pai) != -1){\r\n            return \"wangang\";\r\n        }\r\n        else{\r\n            var cnt = 0;\r\n            for(var i = 0; i < seatData.holds.length; ++i){\r\n                if(seatData.holds[i] == pai){\r\n                    cnt++;\r\n                }\r\n            }\r\n            if(cnt == 3){\r\n                return \"diangang\";\r\n            }\r\n            else{\r\n                return \"angang\";\r\n            }\r\n        }\r\n    },\r\n    \r\n    doGang:function(seatIndex,pai,gangtype){\r\n        var seatData = this.seats[seatIndex];\r\n        \r\n        if(!gangtype){\r\n            gangtype = this.getGangType(seatData,pai);\r\n        }\r\n        \r\n        if(gangtype == \"wangang\"){\r\n            if(seatData.pengs.indexOf(pai) != -1){\r\n                var idx = seatData.pengs.indexOf(pai);\r\n                if(idx != -1){\r\n                    seatData.pengs.splice(idx,1);\r\n                }\r\n            }\r\n            seatData.wangangs.push(pai);      \r\n        }\r\n        if(seatData.holds){\r\n            for(var i = 0; i <= 4; ++i){\r\n                var idx = seatData.holds.indexOf(pai);\r\n                if(idx == -1){\r\n                    //如果没有找到，表示移完了，直接跳出循环\r\n                    break;\r\n                }\r\n                seatData.holds.splice(idx,1);\r\n            }\r\n        }\r\n        if(gangtype == \"angang\"){\r\n            seatData.angangs.push(pai);\r\n        }\r\n        else if(gangtype == \"diangang\"){\r\n            seatData.diangangs.push(pai);\r\n        }\r\n        this.dispatchEvent('gang_notify',{seatData:seatData,gangtype:gangtype});\r\n    },\r\n    \r\n    doHu:function(data){\r\n        this.dispatchEvent('hupai',data);\r\n    },\r\n    \r\n    doTurnChange:function(si){\r\n        var data = {\r\n            last:this.turn,\r\n            turn:si,\r\n        }\r\n        this.turn = si;\r\n        this.dispatchEvent('game_chupai',data);\r\n    },\r\n    \r\n    \r\n    connectGameServer:function(data){\r\n        this.dissoveData = null;\r\n        cc.vv.net.ip = data.ip + \":\" + data.port;\r\n        console.log(cc.vv.net.ip);\r\n        var self = this;\r\n\r\n        var onConnectOK = function(){\r\n            console.log(\"onConnectOK\");\r\n            var sd = {\r\n                token:data.token,\r\n                roomid:data.roomid,\r\n                time:data.time,\r\n                sign:data.sign,\r\n            };\r\n            cc.vv.net.send(\"login\",sd);\r\n        };\r\n        \r\n        var onConnectFailed = function(){\r\n            console.log(\"failed.\");\r\n            cc.vv.wc.hide();\r\n        };\r\n        cc.vv.wc.show(\"正在进入房间\");\r\n        cc.vv.net.connect(onConnectOK,onConnectFailed);\r\n    }\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"
  ]
}