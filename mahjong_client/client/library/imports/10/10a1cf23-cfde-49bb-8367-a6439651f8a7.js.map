{"version":3,"sources":["assets/scripts/components/JoinGameInput.js"],"names":["cc","Class","extends","Component","properties","nums","default","type","Label","_inputIndex","onLoad","onEnable","onResetClicked","onInputFinished","roomId","vv","userMgr","enterRoom","ret","errcode","node","active","content","alert","show","bind","onInput","num","length","string","parseRoomID","console","log","onN0Clicked","onN1Clicked","onN2Clicked","onN3Clicked","onN4Clicked","onN5Clicked","onN6Clicked","onN7Clicked","onN8Clicked","onN9Clicked","i","onDelClicked","onCloseClicked","str"],"mappings":"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","file":"unknown","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        nums:{\n            default:[],\n            type:[cc.Label]\n        },\n        _inputIndex:0,\n        // foo: {\n        //    default: null,\n        //    url: cc.Texture2D,  // optional, default is typeof default\n        //    serializable: true, // optional, default is true\n        //    visible: true,      // optional, default is true\n        //    displayName: 'Foo', // optional\n        //    readonly: false,    // optional, default is false\n        // },\n        // ...\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        \n    },\n    \n    onEnable:function(){\n        this.onResetClicked();\n    },\n    \n    onInputFinished:function(roomId){\n        cc.vv.userMgr.enterRoom(roomId,function(ret){\n            if(ret.errcode == 0){\n                this.node.active = false;\n            }\n            else{\n                var content = \"房间[\"+ roomId +\"]不存在，请重新输入!\";\n                if(ret.errcode == 4){\n                    content = \"房间[\"+ roomId + \"]已满!\";\n                }\n                if(ret.errcode == 5){\n                    content = \"钻石不足请充值！\";\n                }\n                cc.vv.alert.show(\"提示\",content);\n                this.onResetClicked();\n            }\n        }.bind(this)); \n    },\n    \n    onInput:function(num){\n        if(this._inputIndex >= this.nums.length){\n            return;\n        }\n        this.nums[this._inputIndex].string = num;\n        this._inputIndex += 1;\n        \n        if(this._inputIndex == this.nums.length){\n            var roomId = this.parseRoomID();\n            console.log(\"ok:\" + roomId);\n            this.onInputFinished(roomId);\n        }\n    },\n    \n    onN0Clicked:function(){\n        this.onInput(0);  \n    },\n    onN1Clicked:function(){\n        this.onInput(1);  \n    },\n    onN2Clicked:function(){\n        this.onInput(2);\n    },\n    onN3Clicked:function(){\n        this.onInput(3);\n    },\n    onN4Clicked:function(){\n        this.onInput(4);\n    },\n    onN5Clicked:function(){\n        this.onInput(5);\n    },\n    onN6Clicked:function(){\n        this.onInput(6);\n    },\n    onN7Clicked:function(){\n        this.onInput(7);\n    },\n    onN8Clicked:function(){\n        this.onInput(8);\n    },\n    onN9Clicked:function(){\n        this.onInput(9);\n    },\n    onResetClicked:function(){\n        for(var i = 0; i < this.nums.length; ++i){\n            this.nums[i].string = \"\";\n        }\n        this._inputIndex = 0;\n    },\n    onDelClicked:function(){\n        if(this._inputIndex > 0){\n            this._inputIndex -= 1;\n            this.nums[this._inputIndex].string = \"\";\n        }\n    },\n    onCloseClicked:function(){\n        this.node.active = false;\n    },\n    \n    parseRoomID:function(){\n        var str = \"\";\n        for(var i = 0; i < this.nums.length; ++i){\n            str += this.nums[i].string;\n        }\n        return str;\n    }\n\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n\n    // },\n});\n"]}